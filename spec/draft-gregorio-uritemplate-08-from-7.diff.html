<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.34: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Darwin simak.local 11.2.0 Darwin Kernel Version 11.2.0: Tue Aug  9 20:54:00 PDT 2011; root:xnu-1699.24.8~1/RELEASE_X86_64 x86_64 --> 
<!-- Using awk: /usr/local/bin/gawk: GNU Awk 3.1.8 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 2.8.1 --> 
<!-- Using wdiff: /usr/local/bin/wdiff: wdiff (GNU wdiff) 0.6.5 --> 
<html> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: draft-gregorio-uritemplate-07.txt - draft-gregorio-uritemplate-08.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;draft-gregorio-uritemplate-07.txt&nbsp;</th><th> </th><th>&nbsp;draft-gregorio-uritemplate-08.txt&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Network Working Group                                        J. Gregorio</td><td> </td><td class="right">Network Working Group                                        J. Gregorio</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Internet-Draft                                                    Google</td><td> </td><td class="right">Internet-Draft                                                    Google</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Intended status: Standards Track                             R. Fielding</td><td> </td><td class="right">Intended status: Standards Track                             R. Fielding</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Expires: <span class="delete">March 29, 2012</span>                                            Adobe</td><td> </td><td class="rblock">Expires: <span class="insert">July 28, 2012 </span>                                            Adobe</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               M. Hadley</td><td> </td><td class="right">                                                               M. Hadley</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                   MITRE</td><td> </td><td class="right">                                                                   MITRE</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                           M. Nottingham</td><td> </td><td class="right">                                                           M. Nottingham</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               Rackspace</td><td> </td><td class="right">                                                               Rackspace</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                              D. Orchard</td><td> </td><td class="right">                                                              D. Orchard</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                          Salesforce.com</td><td> </td><td class="right">                                                          Salesforce.com</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                            <span class="delete">Sep 26, 2011</span></td><td> </td><td class="rblock">                                                            <span class="insert">Jan 25, 2012</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                              URI Template</td><td> </td><td class="right">                              URI Template</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                     draft-gregorio-uritemplate-0<span class="delete">7</span></td><td> </td><td class="rblock">                     draft-gregorio-uritemplate-0<span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A URI Template is a compact sequence of characters for describing a</td><td> </td><td class="right">   A URI Template is a compact sequence of characters for describing a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   range of Uniform Resource Identifiers through variable expansion.</td><td> </td><td class="right">   range of Uniform Resource Identifiers through variable expansion.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This specification defines the URI Template syntax and the process</td><td> </td><td class="right">   This specification defines the URI Template syntax and the process</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   for expanding a URI Template into a URI reference, along with</td><td> </td><td class="right">   for expanding a URI Template into a URI reference, along with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   guidelines for the use of URI Templates on the Internet.</td><td> </td><td class="right">   guidelines for the use of URI Templates on the Internet.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Editorial Note (to be removed by RFC Editor)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   To provide feedback on this Internet-Draft, join the W3C URI mailing</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   list (http://lists.w3.org/Archives/Public/uri/) [1].</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Status of this Memo</td><td> </td><td class="right">Status of this Memo</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This Internet-Draft is submitted in full conformance with the</td><td> </td><td class="right">   This Internet-Draft is submitted in full conformance with the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   provisions of BCP 78 and BCP 79.</td><td> </td><td class="right">   provisions of BCP 78 and BCP 79.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are working documents of the Internet Engineering</td><td> </td><td class="right">   Internet-Drafts are working documents of the Internet Engineering</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Task Force (IETF).  Note that other groups may also distribute</td><td> </td><td class="right">   Task Force (IETF).  Note that other groups may also distribute</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   working documents as Internet-Drafts.  The list of current Internet-</td><td> </td><td class="right">   working documents as Internet-Drafts.  The list of current Internet-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Drafts is at http://datatracker.ietf.org/drafts/current/.</td><td> </td><td class="right">   Drafts is at http://datatracker.ietf.org/drafts/current/.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are draft documents valid for a maximum of six months</td><td> </td><td class="right">   Internet-Drafts are draft documents valid for a maximum of six months</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and may be updated, replaced, or obsoleted by other documents at any</td><td> </td><td class="right">   and may be updated, replaced, or obsoleted by other documents at any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   time.  It is inappropriate to use Internet-Drafts as reference</td><td> </td><td class="right">   time.  It is inappropriate to use Internet-Drafts as reference</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   material or to cite them other than as "work in progress."</td><td> </td><td class="right">   material or to cite them other than as "work in progress."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This Internet-Draft will expire on <span class="delete">March 29</span>, 2012.</td><td> </td><td class="rblock">   This Internet-Draft will expire on <span class="insert">July 28</span>, 2012.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Copyright Notice</td><td> </td><td class="right">Copyright Notice</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Copyright (c) <span class="delete">2011</span> IETF Trust and the persons identified as the</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Copyright (c) <span class="insert">2012</span> IETF Trust and the persons identified as the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   document authors.  All rights reserved.</td><td> </td><td class="right">   document authors.  All rights reserved.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td> </td><td class="right">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Provisions Relating to IETF Documents</td><td> </td><td class="right">   Provisions Relating to IETF Documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (http://trustee.ietf.org/license-info) in effect on the date of</td><td> </td><td class="right">   (http://trustee.ietf.org/license-info) in effect on the date of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   publication of this document.  Please review these documents</td><td> </td><td class="right">   publication of this document.  Please review these documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   carefully, as they describe your rights and restrictions with respect</td><td> </td><td class="right">   carefully, as they describe your rights and restrictions with respect</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to this document.  Code Components extracted from this document must</td><td> </td><td class="right">   to this document.  Code Components extracted from this document must</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   include Simplified BSD License text as described in Section 4.e of</td><td> </td><td class="right">   include Simplified BSD License text as described in Section 4.e of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the Trust Legal Provisions and are provided without warranty as</td><td> </td><td class="right">   the Trust Legal Provisions and are provided without warranty as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> page 2, line 34</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> page 2, line 29</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     1.5.  Notational Conventions . . . . . . . . . . . . . . . . . . 11</td><td> </td><td class="right">     1.5.  Notational Conventions . . . . . . . . . . . . . . . . . . 11</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     1.6.  Character Encoding and Unicode Normalization . . . . . . . 12</td><td> </td><td class="right">     1.6.  Character Encoding and Unicode Normalization . . . . . . . 12</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   2.  Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13</td><td> </td><td class="right">   2.  Syntax . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.1.  Literals . . . . . . . . . . . . . . . . . . . . . . . . . 13</td><td> </td><td class="right">     2.1.  Literals . . . . . . . . . . . . . . . . . . . . . . . . . 13</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.2.  Expressions  . . . . . . . . . . . . . . . . . . . . . . . 13</td><td> </td><td class="right">     2.2.  Expressions  . . . . . . . . . . . . . . . . . . . . . . . 13</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.3.  Variables  . . . . . . . . . . . . . . . . . . . . . . . . 14</td><td> </td><td class="right">     2.3.  Variables  . . . . . . . . . . . . . . . . . . . . . . . . 14</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     2.4.  Value Modifiers  . . . . . . . . . . . . . . . . . . . . . 15</td><td> </td><td class="right">     2.4.  Value Modifiers  . . . . . . . . . . . . . . . . . . . . . 15</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       2.4.1.  Prefix Values  . . . . . . . . . . . . . . . . . . . . 15</td><td> </td><td class="right">       2.4.1.  Prefix Values  . . . . . . . . . . . . . . . . . . . . 15</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       2.4.2.  Composite Values . . . . . . . . . . . . . . . . . . . 16</td><td> </td><td class="right">       2.4.2.  Composite Values . . . . . . . . . . . . . . . . . . . 16</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   3.  Expansion  . . . . . . . . . . . . . . . . . . . . . . . . . . 17</td><td> </td><td class="right">   3.  Expansion  . . . . . . . . . . . . . . . . . . . . . . . . . . 17</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     3.1.  Literal Expansion  . . . . . . . . . . . . . . . . . . . . 1<span class="delete">7</span></td><td> </td><td class="rblock">     3.1.  Literal Expansion  . . . . . . . . . . . . . . . . . . . . 1<span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     3.2.  Expression Expansion . . . . . . . . . . . . . . . . . . . 18</td><td> </td><td class="right">     3.2.  Expression Expansion . . . . . . . . . . . . . . . . . . . 18</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.1.  Variable Expansion . . . . . . . . . . . . . . . . . . <span class="delete">18</span></td><td> </td><td class="rblock">       3.2.1.  Variable Expansion . . . . . . . . . . . . . . . . . . <span class="insert">19</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.2.  Simple String Expansion: {var} . . . . . . . . . . . . <span class="delete">20</span></td><td> </td><td class="rblock">       3.2.2.  Simple String Expansion: {var} . . . . . . . . . . . . <span class="insert">21</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.3.  Reserved expansion: {+var} . . . . . . . . . . . . . . <span class="delete">20</span></td><td> </td><td class="rblock">       3.2.3.  Reserved expansion: {+var} . . . . . . . . . . . . . . <span class="insert">21</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.4.  Fragment expansion: {#var} . . . . . . . . . . . . . . <span class="delete">21</span></td><td> </td><td class="rblock">       3.2.4.  Fragment expansion: {#var} . . . . . . . . . . . . . . <span class="insert">22</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.5.  Label expansion with dot-prefix: {.var}  . . . . . . . <span class="delete">22</span></td><td> </td><td class="rblock">       3.2.5.  Label expansion with dot-prefix: {.var}  . . . . . . . <span class="insert">23</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.6.  Path segment expansion: {/var} . . . . . . . . . . . . <span class="delete">22</span></td><td> </td><td class="rblock">       3.2.6.  Path segment expansion: {/var} . . . . . . . . . . . . <span class="insert">24</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.7.  Path-style parameter expansion: {;var} . . . . . . . . <span class="delete">23</span></td><td> </td><td class="rblock">       3.2.7.  Path-style parameter expansion: {;var} . . . . . . . . <span class="insert">24</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.8.  Form-style query expansion: {?var} . . . . . . . . . . <span class="delete">24</span></td><td> </td><td class="rblock">       3.2.8.  Form-style query expansion: {?var} . . . . . . . . . . <span class="insert">25</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       3.2.9.  Form-style query continuation: {&amp;var}  . . . . . . . . <span class="delete">24</span></td><td> </td><td class="rblock">       3.2.9.  Form-style query continuation: {&amp;var}  . . . . . . . . <span class="insert">26</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   4.  Security Considerations  . . . . . . . . . . . . . . . . . . . <span class="delete">25</span></td><td> </td><td class="rblock">   4.  Security Considerations  . . . . . . . . . . . . . . . . . . . <span class="insert">26</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <span class="delete">25</span></td><td> </td><td class="rblock">   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . <span class="insert">27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   6.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . <span class="delete">25</span></td><td> </td><td class="rblock">   6.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . <span class="insert">27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   7.  Normative References . . . . . . . . . . . . . . . . . . . . . <span class="delete">25</span></td><td> </td><td class="rblock">   7.  <span class="insert">References . . . . . . . . . . . . . . . . . . . . . . . . . . 27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Appendix A.  Implementation Hints  . . . . . . . . . . . . . . . . <span class="delete">26</span></td><td> </td><td class="rblock"><span class="insert">     7.1.</span>  Normative References . . . . . . . . . . . . . . . . . . . <span class="insert">27</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . <span class="delete">29</span></td><td> </td><td class="rblock"><span class="insert">     7.2.  Informative References .</span> . . <span class="insert">. . . . . . . . . . . . . . . 28</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Appendix A.  Implementation Hints  . . . . . . . . . . . . . . . . <span class="insert">28</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . <span class="insert">31</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.  Introduction</td><td> </td><td class="right">1.  Introduction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.1.  Overview</td><td> </td><td class="right">1.1.  Overview</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A Uniform Resource Identifier (URI) [RFC3986] is often used to</td><td> </td><td class="right">   A Uniform Resource Identifier (URI) [RFC3986] is often used to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   identify a specific resource within a common space of similar</td><td> </td><td class="right">   identify a specific resource within a common space of similar</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">resources.</span>  For example, personal web spaces are often delegated</td><td> </td><td class="rblock">   <span class="insert">resources (informally, a "URI space").</span>  For example, personal web</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   using a common pattern, such as</td><td> </td><td class="rblock">   spaces are often delegated using a common pattern, such as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/~fred/</td><td> </td><td class="right">     http://example.com/~fred/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/~mark/</td><td> </td><td class="right">     http://example.com/~mark/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or a set of dictionary entries might be grouped in a hierarchy by the</td><td> </td><td class="right">   or a set of dictionary entries might be grouped in a hierarchy by the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   first letter of the term, as in</td><td> </td><td class="right">   first letter of the term, as in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/dictionary/c/cat</td><td> </td><td class="right">     http://example.com/dictionary/c/cat</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/dictionary/d/dog</td><td> </td><td class="right">     http://example.com/dictionary/d/dog</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or a service interface might be invoked with various user input in a</td><td> </td><td class="right">   or a service interface might be invoked with various user input in a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   common pattern, as in</td><td> </td><td class="right">   common pattern, as in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/search?q=cat&amp;lang=en</td><td> </td><td class="right">     http://example.com/search?q=cat&amp;lang=en</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/search?q=chien&amp;lang=fr</td><td> </td><td class="right">     http://example.com/search?q=chien&amp;lang=fr</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">A URI Template is a compact sequence of characters for describing a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   range of Uniform Resource Identifiers through variable expansion.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI Templates provide a mechanism for abstracting a space of resource</td><td> </td><td class="right">   URI Templates provide a mechanism for abstracting a space of resource</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   identifiers such that the variable parts can be easily identified and</td><td> </td><td class="right">   identifiers such that the variable parts can be easily identified and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   described.  URI templates can have many uses, including discovery of</td><td> </td><td class="right">   described.  URI templates can have many uses, including discovery of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   available services, configuring resource mappings, defining computed</td><td> </td><td class="right">   available services, configuring resource mappings, defining computed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   links, specifying interfaces, and other forms of programmatic</td><td> </td><td class="right">   links, specifying interfaces, and other forms of programmatic</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   interaction with resources.  For example, the above resources could</td><td> </td><td class="right">   interaction with resources.  For example, the above resources could</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   be described by the following URI templates:</td><td> </td><td class="right">   be described by the following URI templates:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/~{username}/</td><td> </td><td class="right">     http://example.com/~{username}/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://example.com/dictionary/{term:1}/{term}</td><td> </td><td class="right">     http://example.com/dictionary/{term:1}/{term}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> page 4, line 50</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> page 5, line 4</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   then the expansion of the above URI Template is</td><td> </td><td class="right">   then the expansion of the above URI Template is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://www.example.com/foo?query=mycelium&amp;number=100</td><td> </td><td class="right">     http://www.example.com/foo?query=mycelium&amp;number=100</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Alternatively, if 'query' is undefined, then the expansion would be</td><td> </td><td class="right">   Alternatively, if 'query' is undefined, then the expansion would be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://www.example.com/foo?number=100</td><td> </td><td class="right">     http://www.example.com/foo?number=100</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or if both variables are undefined, then it would be</td><td> </td><td class="right">   or if both variables are undefined, then it would be</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                         </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     http://www.example.com/foo</td><td> </td><td class="right">     http://www.example.com/foo</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A URI Template may be provided in absolute form, as in the examples</td><td> </td><td class="right">   A URI Template may be provided in absolute form, as in the examples</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   above, or in relative form.  A template <span class="delete">MUST be</span> expanded before the</td><td> </td><td class="rblock">   above, or in relative form.  A template <span class="insert">is</span> expanded before the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   resulting reference <span class="delete">can be</span> resolved from relative to absolute form.</td><td> </td><td class="rblock">   resulting reference <span class="insert">is</span> resolved from relative to absolute form.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Although the URI syntax is used for the result, the template string</td><td> </td><td class="right">   Although the URI syntax is used for the result, the template string</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   is allowed to contain the broader set of characters that can be found</td><td> </td><td class="right">   is allowed to contain the broader set of characters that can be found</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   in IRI references [RFC3987].  A URI Template is therefore also an IRI</td><td> </td><td class="right">   in IRI references [RFC3987].  A URI Template is therefore also an IRI</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   template, and the result of template processing can be transformed to</td><td> </td><td class="right">   template, and the result of template processing can be transformed to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   an IRI by following the process defined in Section 3.2 of [RFC3987].</td><td> </td><td class="right">   an IRI by following the process defined in Section 3.2 of [RFC3987].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.2.  Levels and Expression Types</td><td> </td><td class="right">1.2.  Levels and Expression Types</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI Templates are similar to a macro language with a fixed set of</td><td> </td><td class="right">   URI Templates are similar to a macro language with a fixed set of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   macro definitions: the expression type determines the expansion</td><td> </td><td class="right">   macro definitions: the expression type determines the expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   process.  The default expression type is simple string expansion,</td><td> </td><td class="right">   process.  The default expression type is simple string expansion,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   wherein a single named variable is replaced by its value as a string</td><td> </td><td class="right">   wherein a single named variable is replaced by its value as a string</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   after UTF-8 encoding the characters and then pct-encoding any octets</td><td> </td><td class="right">   after UTF-8 encoding the characters and then pct-encoding any octets</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   that are not in the <span class="delete">unreserved set</span>.</td><td> </td><td class="rblock">   that are not in the <span class="insert">set of unreserved URI characters (Section 1.5)</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Since most template processors implemented prior to this</td><td> </td><td class="right">   Since most template processors implemented prior to this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   specification have only implemented the default expression type, we</td><td> </td><td class="right">   specification have only implemented the default expression type, we</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   refer to these as Level 1 templates.</td><td> </td><td class="right">   refer to these as Level 1 templates.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .-----------------------------------------------------------------.</td><td> </td><td class="right">   .-----------------------------------------------------------------.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Level 1 examples, with variables having values of               |</td><td> </td><td class="right">   | Level 1 examples, with variables having values of               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             var   := "value"                                    |</td><td> </td><td class="right">   |             var   := "value"                                    |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             hello := "Hello World!"                             |</td><td> </td><td class="right">   |             hello := "Hello World!"                             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> page 5, line 43</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> page 5, line 45</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----------------------------------------------------------------|</td><td> </td><td class="right">   |-----------------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Op       Expression            Expansion                        |</td><td> </td><td class="right">   | Op       Expression            Expansion                        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----------------------------------------------------------------|</td><td> </td><td class="right">   |-----------------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     | Simple string expansion                       (Sec 3.2.2) |</td><td> </td><td class="right">   |     | Simple string expansion                       (Sec 3.2.2) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {var}                 value                            |</td><td> </td><td class="right">   |     |    {var}                 value                            |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {hello}               Hello%20World%21                 |</td><td> </td><td class="right">   |     |    {hello}               Hello%20World%21                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   `-----------------------------------------------------------------'</td><td> </td><td class="right">   `-----------------------------------------------------------------'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Level 2 templates add the plus ("+") operator, for expansion of</td><td> </td><td class="right">   Level 2 templates add the plus ("+") operator, for expansion of</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   values that are allowed to include reserved <span class="delete">characters,</span> and the</td><td> </td><td class="rblock">   values that are allowed to include reserved <span class="insert">URI characters</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   crosshatch ("#") operator for expansion of fragment identifiers.</td><td> </td><td class="rblock"><span class="insert">   (Section 1.5),</span> and the crosshatch ("#") operator for expansion of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   fragment identifiers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .-----------------------------------------------------------------.</td><td> </td><td class="right">   .-----------------------------------------------------------------.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Level 2 examples, with variables having values of               |</td><td> </td><td class="right">   | Level 2 examples, with variables having values of               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             var   := "value"                                    |</td><td> </td><td class="right">   |             var   := "value"                                    |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             hello := "Hello World!"                             |</td><td> </td><td class="right">   |             hello := "Hello World!"                             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             path  := "/foo/bar"                                 |</td><td> </td><td class="right">   |             path  := "/foo/bar"                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----------------------------------------------------------------|</td><td> </td><td class="right">   |-----------------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Op       Expression            Expansion                        |</td><td> </td><td class="right">   | Op       Expression            Expansion                        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> page 6, line 28</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> page 6, line 28</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {+hello}              Hello%20World!                   |</td><td> </td><td class="right">   |     |    {+hello}              Hello%20World!                   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {+path}/here          /foo/bar/here                    |</td><td> </td><td class="right">   |     |    {+path}/here          /foo/bar/here                    |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    here?ref={+path}      here?ref=/foo/bar                |</td><td> </td><td class="right">   |     |    here?ref={+path}      here?ref=/foo/bar                |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----+-----------------------------------------------------------|</td><td> </td><td class="right">   |-----+-----------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  #  | Fragment expansion, crosshatch-prefixed       (Sec 3.2.4) |</td><td> </td><td class="right">   |  #  | Fragment expansion, crosshatch-prefixed       (Sec 3.2.4) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    X{#var}               X#value                          |</td><td> </td><td class="right">   |     |    X{#var}               X#value                          |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    X{#hello}             X#Hello%20World!                 |</td><td> </td><td class="right">   |     |    X{#hello}             X#Hello%20World!                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   `-----------------------------------------------------------------'</td><td> </td><td class="right">   `-----------------------------------------------------------------'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Level 3 templates add more complex operators for <span class="delete">lists of comma-</span></td><td> </td><td class="rblock">   Level 3 templates <span class="insert">allow multiple variables per expression, each</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   separated values,</span> dot-prefixed labels, slash-prefixed path segments,</td><td> </td><td class="rblock"><span class="insert">   separated by a comma, and</span> add more complex operators for dot-prefixed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   semicolon-prefixed path parameters, and the forms-style construction</td><td> </td><td class="rblock">   labels, slash-prefixed path segments, semicolon-prefixed path</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   of a query syntax consisting of name=value pairs that are separated</td><td> </td><td class="rblock">   parameters, and the forms-style construction of a query syntax</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   by an ampersand character.</td><td> </td><td class="rblock">   consisting of name=value pairs that are separated by an ampersand</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   character.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .-----------------------------------------------------------------.</td><td> </td><td class="right">   .-----------------------------------------------------------------.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Level 3 examples, with variables having values of               |</td><td> </td><td class="right">   | Level 3 examples, with variables having values of               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             var   := "value"                                    |</td><td> </td><td class="right">   |             var   := "value"                                    |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             hello := "Hello World!"                             |</td><td> </td><td class="right">   |             hello := "Hello World!"                             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             empty := ""                                         |</td><td> </td><td class="right">   |             empty := ""                                         |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             path  := "/foo/bar"                                 |</td><td> </td><td class="right">   |             path  := "/foo/bar"                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             x     := "1024"                                     |</td><td> </td><td class="right">   |             x     := "1024"                                     |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             y     := "768"                                      |</td><td> </td><td class="right">   |             y     := "768"                                      |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> page 7, line 47</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> page 7, line 48</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {?x,y,empty}          ?x=1024&amp;y=768&amp;empty=             |</td><td> </td><td class="right">   |     |    {?x,y,empty}          ?x=1024&amp;y=768&amp;empty=             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----+-----------------------------------------------------------|</td><td> </td><td class="right">   |-----+-----------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  &amp;  | Form-style query continuation                 (Sec 3.2.9) |</td><td> </td><td class="right">   |  &amp;  | Form-style query continuation                 (Sec 3.2.9) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    ?fixed=yes{&amp;x}        ?fixed=yes&amp;x=1024                |</td><td> </td><td class="right">   |     |    ?fixed=yes{&amp;x}        ?fixed=yes&amp;x=1024                |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {&amp;x,y,empty}          &amp;x=1024&amp;y=768&amp;empty=             |</td><td> </td><td class="right">   |     |    {&amp;x,y,empty}          &amp;x=1024&amp;y=768&amp;empty=             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   `-----------------------------------------------------------------'</td><td> </td><td class="right">   `-----------------------------------------------------------------'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Finally, Level 4 templates add <span class="delete">the ability to specify</span> value modifiers</td><td> </td><td class="rblock">   Finally, Level 4 templates add value modifiers as <span class="insert">an optional</span> suffix</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   as <span class="delete">a</span> suffix to <span class="delete">the</span> variable name.  <span class="delete">The</span> prefix modifier (":")</td><td> </td><td class="rblock">   to <span class="insert">each</span> variable name.  <span class="insert">A</span> prefix modifier (":") indicates that only a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   indicates that only a limited number of characters from the beginning</td><td> </td><td class="rblock">   limited number of characters from the beginning of the value are used</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   of the value are used by the <span class="delete">expansion.  The</span> explode ("*") modifier</td><td> </td><td class="rblock">   by the <span class="insert">expansion (Section 2.4.1).  An</span> explode ("*") modifier</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   indicates that the variable is to be treated as a composite value,</td><td> </td><td class="right">   indicates that the variable is to be treated as a composite value,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   consisting of either a list of names or an associative array of</td><td> </td><td class="right">   consisting of either a list of names or an associative array of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (name, value) pairs, that is expanded as if each member were a</td><td> </td><td class="right">   (name, value) pairs, that is expanded as if each member were a</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   separate variable.</td><td> </td><td class="rblock">   separate variable<span class="insert"> (Section 2.4.2)</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   .-----------------------------------------------------------------.</td><td> </td><td class="right">   .-----------------------------------------------------------------.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Level 4 examples, with variables having values of               |</td><td> </td><td class="right">   | Level 4 examples, with variables having values of               |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             var   := "value"                                    |</td><td> </td><td class="right">   |             var   := "value"                                    |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             hello := "Hello World!"                             |</td><td> </td><td class="right">   |             hello := "Hello World!"                             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             path  := "/foo/bar"                                 |</td><td> </td><td class="right">   |             path  := "/foo/bar"                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |             list  := <span class="delete">[ "red", "green", "blue" ]</span>                 |</td><td> </td><td class="rblock">   |             list  := <span class="insert">("red", "green", "blue")  </span>                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |             keys  := [("semi",";"),("dot","."),("comma",",")]   |</td><td> </td><td class="right">   |             keys  := [("semi",";"),("dot","."),("comma",",")]   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |                                                                 |</td><td> </td><td class="right">   |                                                                 |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | Op       Expression            Expansion                        |</td><td> </td><td class="right">   | Op       Expression            Expansion                        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----------------------------------------------------------------|</td><td> </td><td class="right">   |-----------------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     | String expansion with value modifiers         (Sec 3.2.2) |</td><td> </td><td class="right">   |     | String expansion with value modifiers         (Sec 3.2.2) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {var:3}               val                              |</td><td> </td><td class="right">   |     |    {var:3}               val                              |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {var:30}              value                            |</td><td> </td><td class="right">   |     |    {var:30}              value                            |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {list}                red,green,blue                   |</td><td> </td><td class="right">   |     |    {list}                red,green,blue                   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {list*}               red,green,blue                   |</td><td> </td><td class="right">   |     |    {list*}               red,green,blue                   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> page 9, line 22</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> page 9, line 23</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {/list*}              /red/green/blue                  |</td><td> </td><td class="right">   |     |    {/list*}              /red/green/blue                  |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {/list*,path:4}       /red/green/blue/%2Ffoo           |</td><td> </td><td class="right">   |     |    {/list*,path:4}       /red/green/blue/%2Ffoo           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {/keys}               /semi,%3B,dot,.,comma,%2C        |</td><td> </td><td class="right">   |     |    {/keys}               /semi,%3B,dot,.,comma,%2C        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {/keys*}              /semi=%3B/dot=./comma=%2C        |</td><td> </td><td class="right">   |     |    {/keys*}              /semi=%3B/dot=./comma=%2C        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----+-----------------------------------------------------------|</td><td> </td><td class="right">   |-----+-----------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  ;  | Path-style parameters, semicolon-prefixed     (Sec 3.2.7) |</td><td> </td><td class="right">   |  ;  | Path-style parameters, semicolon-prefixed     (Sec 3.2.7) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {;hello:5}            ;hello=Hello                     |</td><td> </td><td class="right">   |     |    {;hello:5}            ;hello=Hello                     |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {;list}               ;list=red,green,blue             |</td><td> </td><td class="right">   |     |    {;list}               ;list=red,green,blue             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |     |    {;list*}              ;<span class="delete">red;green;blue               </span>   |</td><td> </td><td class="rblock">   |     |    {;list*}              ;<span class="insert">list=red;list=green;list=blue</span>   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {;keys}               ;keys=semi,%3B,dot,.,comma,%2C   |</td><td> </td><td class="right">   |     |    {;keys}               ;keys=semi,%3B,dot,.,comma,%2C   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {;keys*}              ;semi=%3B;dot=.;comma=%2C        |</td><td> </td><td class="right">   |     |    {;keys*}              ;semi=%3B;dot=.;comma=%2C        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----+-----------------------------------------------------------|</td><td> </td><td class="right">   |-----+-----------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  ?  | Form-style query, ampersand-separated         (Sec 3.2.8) |</td><td> </td><td class="right">   |  ?  | Form-style query, ampersand-separated         (Sec 3.2.8) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {?var:3}              ?var=val                         |</td><td> </td><td class="right">   |     |    {?var:3}              ?var=val                         |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {?list}               ?list=red,green,blue             |</td><td> </td><td class="right">   |     |    {?list}               ?list=red,green,blue             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |     |    {?list*}              ?<span class="delete">red&amp;green&amp;blue               </span>   |</td><td> </td><td class="rblock">   |     |    {?list*}              ?<span class="insert">list=red&amp;list=green&amp;list=blue</span>   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {?keys}               ?keys=semi,%3B,dot,.,comma,%2C   |</td><td> </td><td class="right">   |     |    {?keys}               ?keys=semi,%3B,dot,.,comma,%2C   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {?keys*}              ?semi=%3B&amp;dot=.&amp;comma=%2C        |</td><td> </td><td class="right">   |     |    {?keys*}              ?semi=%3B&amp;dot=.&amp;comma=%2C        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |-----+-----------------------------------------------------------|</td><td> </td><td class="right">   |-----+-----------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |  &amp;  | Form-style query continuation                 (Sec 3.2.9) |</td><td> </td><td class="right">   |  &amp;  | Form-style query continuation                 (Sec 3.2.9) |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {&amp;var:3}              &amp;var=val                         |</td><td> </td><td class="right">   |     |    {&amp;var:3}              &amp;var=val                         |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {&amp;list}               &amp;list=red,green,blue             |</td><td> </td><td class="right">   |     |    {&amp;list}               &amp;list=red,green,blue             |</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   |     |    {&amp;list*}              &amp;<span class="delete">red&amp;green&amp;blue               </span>   |</td><td> </td><td class="rblock">   |     |    {&amp;list*}              &amp;<span class="insert">list=red&amp;list=green&amp;list=blue</span>   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {&amp;keys}               &amp;keys=semi,%3B,dot,.,comma,%2C   |</td><td> </td><td class="right">   |     |    {&amp;keys}               &amp;keys=semi,%3B,dot,.,comma,%2C   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |    {&amp;keys*}              &amp;semi=%3B&amp;dot=.&amp;comma=%2C        |</td><td> </td><td class="right">   |     |    {&amp;keys*}              &amp;semi=%3B&amp;dot=.&amp;comma=%2C        |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |     |                                                           |</td><td> </td><td class="right">   |     |                                                           |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   `-----------------------------------------------------------------'</td><td> </td><td class="right">   `-----------------------------------------------------------------'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.3.  Design Considerations</td><td> </td><td class="right">1.3.  Design Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Mechanisms similar to URI Templates have been defined within several</td><td> </td><td class="right">   Mechanisms similar to URI Templates have been defined within several</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   specifications, including <span class="delete">WSDL,</span> WADL and <span class="delete">OpenSearch.</span>  This</td><td> </td><td class="rblock">   specifications, including <span class="insert">WSDL [WSDL],</span> WADL <span class="insert">[WADL]</span> and <span class="insert">OpenSearch</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   specification extends and formally defines the syntax so that URI</td><td> </td><td class="rblock"><span class="insert">   [OpenSearch].</span>  This specification extends and formally defines the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Templates can be used consistently across multiple Internet</td><td> </td><td class="rblock">   syntax so that URI Templates can be used consistently across multiple</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   applications and within Internet message fields, while at the same</td><td> </td><td class="rblock">   Internet applications and within Internet message fields, while at</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   time retaining compatibility with those earlier definitions.</td><td> </td><td class="rblock">   the same time retaining compatibility with those earlier definitions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The URI Template syntax has been designed to carefully balance the</td><td> </td><td class="right">   The URI Template syntax has been designed to carefully balance the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   need for a powerful expansion mechanism with the need for ease of</td><td> </td><td class="right">   need for a powerful expansion mechanism with the need for ease of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   implementation.  The syntax is designed to be trivial to parse while</td><td> </td><td class="right">   implementation.  The syntax is designed to be trivial to parse while</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   at the same time providing enough flexibility to express many common</td><td> </td><td class="right">   at the same time providing enough flexibility to express many common</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   template scenarios.  Implementations are able to parse the template</td><td> </td><td class="right">   template scenarios.  Implementations are able to parse the template</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and perform the expansions in a single pass.</td><td> </td><td class="right">   and perform the expansions in a single pass.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Templates are simple and readable when used with common examples</td><td> </td><td class="right">   Templates are simple and readable when used with common examples</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   because the single-character operators match the URI generic syntax</td><td> </td><td class="right">   because the single-character operators match the URI generic syntax</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> page 11, line 32</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> page 11, line 33</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this</td><td> </td><td class="right">   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   document are to be interpreted as described in [RFC2119].</td><td> </td><td class="right">   document are to be interpreted as described in [RFC2119].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This specification uses the Augmented Backus-Naur Form (ABNF)</td><td> </td><td class="right">   This specification uses the Augmented Backus-Naur Form (ABNF)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   notation of [RFC5234].  The following ABNF rules are imported from</td><td> </td><td class="right">   notation of [RFC5234].  The following ABNF rules are imported from</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the normative references [RFC5234], [RFC3986], and [RFC3987].</td><td> </td><td class="right">   the normative references [RFC5234], [RFC3986], and [RFC3987].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z</td><td> </td><td class="right">     ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     DIGIT          =  %x30-39             ; 0-9</td><td> </td><td class="right">     DIGIT          =  %x30-39             ; 0-9</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"</td><td> </td><td class="right">     HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       ; case-insensitive</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     pct-encoded    =  "%" HEXDIG HEXDIG</td><td> </td><td class="right">     pct-encoded    =  "%" HEXDIG HEXDIG</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     unreserved     =  ALPHA / DIGIT / "-" / "." / "_" / "~"</td><td> </td><td class="right">     unreserved     =  ALPHA / DIGIT / "-" / "." / "_" / "~"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     reserved       =  gen-delims / sub-delims</td><td> </td><td class="right">     reserved       =  gen-delims / sub-delims</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     gen-delims     =  ":" / "/" / "?" / "#" / "[" / "]" / "@"</td><td> </td><td class="right">     gen-delims     =  ":" / "/" / "?" / "#" / "[" / "]" / "@"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     sub-delims     =  "!" / "$" / "&amp;" / "'" / "(" / ")"</td><td> </td><td class="right">     sub-delims     =  "!" / "$" / "&amp;" / "'" / "(" / ")"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  "*" / "+" / "," / ";" / "="</td><td> </td><td class="right">                    /  "*" / "+" / "," / ";" / "="</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     ucschar        =  %xA0-D7FF / %xF900-FDCF / %xFDF0-FFEF</td><td> </td><td class="right">     ucschar        =  %xA0-D7FF / %xF900-FDCF / %xFDF0-FFEF</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  %x10000-1FFFD / %x20000-2FFFD / %x30000-3FFFD</td><td> </td><td class="right">                    /  %x10000-1FFFD / %x20000-2FFFD / %x30000-3FFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  %x40000-4FFFD / %x50000-5FFFD / %x60000-6FFFD</td><td> </td><td class="right">                    /  %x40000-4FFFD / %x50000-5FFFD / %x60000-6FFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  %x70000-7FFFD / %x80000-8FFFD / %x90000-9FFFD</td><td> </td><td class="right">                    /  %x70000-7FFFD / %x80000-8FFFD / %x90000-9FFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  %xA0000-AFFFD / %xB0000-BFFFD / %xC0000-CFFFD</td><td> </td><td class="right">                    /  %xA0000-AFFFD / %xB0000-BFFFD / %xC0000-CFFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                    /  %xD0000-DFFFD / %xE1000-EFFFD</td><td> </td><td class="right">                    /  %xD0000-DFFFD / %xE1000-EFFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     iprivate       =  %xE000-F8FF / %xF0000-FFFFD / %x100000-10FFFD</td><td> </td><td class="right">     iprivate       =  %xE000-F8FF / %xF0000-FFFFD / %x100000-10FFFD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.6.  Character Encoding and Unicode Normalization</td><td> </td><td class="right">1.6.  Character Encoding and Unicode Normalization</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This specification uses the terms <span class="delete">"character" and</span> "coded character</td><td> </td><td class="rblock">   This specification uses the terms <span class="insert">"character", "character encoding</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">set" in accordance with the definitions provided in [RFC2978],</span> and</td><td> </td><td class="rblock"><span class="insert">   scheme", "code point",</span> "coded character <span class="insert">set", "glyph", "non-ASCII",</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">"character encoding" in place of what [RFC2978] refers to</span> as <span class="delete">a</span></td><td> </td><td class="rblock"><span class="insert">   "normalization", "protocol element",</span> and <span class="insert">"regular expression"</span> as <span class="insert">they</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   "charset".</span></td><td> </td><td class="rblock"><span class="insert">   are defined in [RFC6365].</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The ABNF notation defines its terminal values to be non-negative</td><td> </td><td class="right">   The ABNF notation defines its terminal values to be non-negative</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   integers (codepoints) that are a superset of the US-ASCII coded</td><td> </td><td class="right">   integers (codepoints) that are a superset of the US-ASCII coded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   character set [ASCII].  This specification defines terminal values as</td><td> </td><td class="right">   character set [ASCII].  This specification defines terminal values as</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   code<span class="delete">points within the Unicode coded character set [UNIV4</span>].</td><td> </td><td class="rblock">   code<span class="insert"> points within the Unicode coded character set [UNIV6</span>].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In spite of the syntax and template expansion process being defined</td><td> </td><td class="right">   In spite of the syntax and template expansion process being defined</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   in terms of Unicode codepoints, it should be understood that</td><td> </td><td class="right">   in terms of Unicode codepoints, it should be understood that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   templates occur in practice as a sequence of characters in whatever</td><td> </td><td class="right">   templates occur in practice as a sequence of characters in whatever</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   form or encoding is suitable for the context in which they occur,</td><td> </td><td class="right">   form or encoding is suitable for the context in which they occur,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   whether that be octets embedded in a network protocol element or</td><td> </td><td class="right">   whether that be octets embedded in a network protocol element or</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">paint applied to</span> the side of a bus.  This specification does not</td><td> </td><td class="rblock">   <span class="insert">glyphs painted on</span> the side of a bus.  This specification does not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   mandate any particular character encoding for mapping between URI</td><td> </td><td class="rblock">   mandate any particular character encoding <span class="insert">scheme</span> for mapping between</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Template characters and the octets used to store or transmit those</td><td> </td><td class="rblock">   URI Template characters and the octets used to store or transmit</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   characters.  When a URI Template appears in a protocol element, the</td><td> </td><td class="rblock">   those characters.  When a URI Template appears in a protocol element,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   character encoding is defined by that protocol; without such a</td><td> </td><td class="rblock">   the character encoding <span class="insert">scheme</span> is defined by that protocol; without</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   definition, a URI Template is assumed to be in the same character</td><td> </td><td class="rblock">   such a definition, a URI Template is assumed to be in the same</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   encoding as the surrounding text.  It is only during the process of</td><td> </td><td class="rblock">   character encoding <span class="insert">scheme</span> as the surrounding text.  It is only during</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   template expansion that a string of characters in a URI Template is</td><td> </td><td class="rblock">   the process of template expansion that a string of characters in a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   REQUIRED to be processed as a sequence of Unicode <span class="delete">codepoints.</span></td><td> </td><td class="rblock">   URI Template is REQUIRED to be processed as a sequence of Unicode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">code points.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The Unicode Standard [UNIV<span class="delete">4</span>] defines various equivalences between</td><td> </td><td class="rblock">   The Unicode Standard [UNIV<span class="insert">6</span>] defines various equivalences between</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   sequences of characters for various purposes.  Unicode Standard Annex</td><td> </td><td class="right">   sequences of characters for various purposes.  Unicode Standard Annex</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   #15 [UTR15] defines various Normalization Forms for these</td><td> </td><td class="right">   #15 [UTR15] defines various Normalization Forms for these</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   equivalences.  The normalization form determines how to consistently</td><td> </td><td class="right">   equivalences.  The normalization form determines how to consistently</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   encode equivalent strings.  In theory, all URI processing</td><td> </td><td class="right">   encode equivalent strings.  In theory, all URI processing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   implementations, including template processors, should use the same</td><td> </td><td class="right">   implementations, including template processors, should use the same</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   normalization form for generating a URI reference.  In practice, they</td><td> </td><td class="right">   normalization form for generating a URI reference.  In practice, they</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   do not.  If a value has been provided by the same server as the</td><td> </td><td class="right">   do not.  If a value has been provided by the same server as the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resource, then it can be assumed that the string is already in the</td><td> </td><td class="right">   resource, then it can be assumed that the string is already in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   form expected by that server.  If a value is provided by a user, such</td><td> </td><td class="right">   form expected by that server.  If a value is provided by a user, such</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   as via a data-entry dialog, then the string SHOULD be normalized as</td><td> </td><td class="right">   as via a data-entry dialog, then the string SHOULD be normalized as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> page 13, line 29</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> page 13, line 29</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   can be properly identified as such to the end user.</td><td> </td><td class="right">   can be properly identified as such to the end user.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.1.  Literals</td><td> </td><td class="right">2.1.  Literals</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The characters outside of expressions in a URI Template string are</td><td> </td><td class="right">   The characters outside of expressions in a URI Template string are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   intended to be copied literally to the URI-reference if the character</td><td> </td><td class="right">   intended to be copied literally to the URI-reference if the character</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   is allowed in a URI (reserved / unreserved / pct-encoded) or, if not</td><td> </td><td class="right">   is allowed in a URI (reserved / unreserved / pct-encoded) or, if not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   allowed, copied to the URI-reference in its UTF-8 pct-encoded form.</td><td> </td><td class="right">   allowed, copied to the URI-reference in its UTF-8 pct-encoded form.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     literals      =  %x21 / %x23-24 / %x26 / %x28-3B / %x3D / %x3F-5B</td><td> </td><td class="right">     literals      =  %x21 / %x23-24 / %x26 / %x28-3B / %x3D / %x3F-5B</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                   /  %x5D<span class="delete">-</span>5F / %x61-7A / %x7E / ucschar / iprivate</td><td> </td><td class="rblock">                   /  %x5D<span class="insert"> / %x</span>5F / %x61-7A / %x7E / ucschar / iprivate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                   /  pct-encoded</td><td> </td><td class="right">                   /  pct-encoded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        ; any Unicode character except: CTL, SP,</td><td> </td><td class="right">                        ; any Unicode character except: CTL, SP,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        ;  DQUOTE, "'", "%" (aside from pct-encoded),</td><td> </td><td class="right">                        ;  DQUOTE, "'", "%" (aside from pct-encoded),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        ;  "&lt;", "&gt;", "\", "^", "`", "{", "|", "}"</td><td> </td><td class="right">                        ;  "&lt;", "&gt;", "\", "^", "`", "{", "|", "}"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.2.  Expressions</td><td> </td><td class="right">2.2.  Expressions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Template expressions are the parameterized parts of a URI Template.</td><td> </td><td class="right">   Template expressions are the parameterized parts of a URI Template.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Each expression contains an optional operator, which defines the</td><td> </td><td class="right">   Each expression contains an optional operator, which defines the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expression type and its corresponding expansion process, followed by</td><td> </td><td class="right">   expression type and its corresponding expansion process, followed by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   a comma-separated list of variable specifiers (variable names and</td><td> </td><td class="right">   a comma-separated list of variable specifiers (variable names and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   optional value modifiers).  If no operator is provided, the</td><td> </td><td class="right">   optional value modifiers).  If no operator is provided, the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expression defaults to simple variable expansion of unreserved</td><td> </td><td class="right">   expression defaults to simple variable expansion of unreserved</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   values.</td><td> </td><td class="right">   values.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     expression    =  "{" [ operator ] variable-list "}"</td><td> </td><td class="right">     expression    =  "{" [ operator ] variable-list "}"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     operator      =  "+" / "#" <span class="delete">/</span> "." / "/" / ";" / "?" / "&amp;"</td><td> </td><td class="rblock">     operator      =  <span class="insert">op-level2 / op-level3 / op-reserve</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                   <span class="delete">/  op-reserve</span></td><td> </td><td class="rblock"><span class="insert">     op-level2     =</span>  "+" / "#"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">     <span class="insert">op-level3     =</span>  "." / "/" / ";" / "?" / "&amp;"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     op-reserve    =  "=" / "," / "!" / "@" / "|"</td><td> </td><td class="right">     op-reserve    =  "=" / "," / "!" / "@" / "|"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                          ; reserved for local use: "$" / "(" / ")"</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The operator characters have been chosen to reflect each of their</td><td> </td><td class="right">   The operator characters have been chosen to reflect each of their</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   roles as reserved characters in the URI generic syntax.  The</td><td> </td><td class="right">   roles as reserved characters in the URI generic syntax.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operators defined in Section 3 of this specification include:</td><td> </td><td class="right">   operators defined in Section 3 of this specification include:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      +   Reserved character strings;</td><td> </td><td class="right">      +   Reserved character strings;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      #   Fragment identifiers prefixed by "#";</td><td> </td><td class="right">      #   Fragment identifiers prefixed by "#";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      .   Name labels or extensions prefixed by ".";</td><td> </td><td class="right">      .   Name labels or extensions prefixed by ".";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> page 14, line 27</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> page 14, line 27</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          name=value pairs separated by "&amp;"; and,</td><td> </td><td class="right">          name=value pairs separated by "&amp;"; and,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      &amp;   Continuation of query-style &amp;name=value pairs within</td><td> </td><td class="right">      &amp;   Continuation of query-style &amp;name=value pairs within</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">          a literal query component.</td><td> </td><td class="right">          a literal query component.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The operator characters equals ("="), comma (","), exclamation ("!"),</td><td> </td><td class="right">   The operator characters equals ("="), comma (","), exclamation ("!"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   at-sign ("@"), and pipe ("|") are reserved for future extensions.</td><td> </td><td class="right">   at-sign ("@"), and pipe ("|") are reserved for future extensions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The expression syntax specifically excludes use of the dollar ("$")</td><td> </td><td class="right">   The expression syntax specifically excludes use of the dollar ("$")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and parentheses ["(" and ")"] characters so that they remain</td><td> </td><td class="right">   and parentheses ["(" and ")"] characters so that they remain</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   available for <span class="delete">local language extensions</span> outside the scope of this</td><td> </td><td class="rblock">   available for <span class="insert">use</span> outside the scope of this specification.  <span class="insert">For</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   specification.</td><td> </td><td class="rblock"><span class="insert">   example, a macro language might use these characters to apply macro</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   substitution to a string prior to that string being processed as a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   URI Template.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.3.  Variables</td><td> </td><td class="right">2.3.  Variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   After the operator (if any), each expression contains a list of one</td><td> </td><td class="right">   After the operator (if any), each expression contains a list of one</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or more comma-separated variable specifiers (varspec).  The variable</td><td> </td><td class="right">   or more comma-separated variable specifiers (varspec).  The variable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   names serve multiple purposes: documentation for what kinds of values</td><td> </td><td class="right">   names serve multiple purposes: documentation for what kinds of values</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   are expected, identifiers for associating values within a template</td><td> </td><td class="right">   are expected, identifiers for associating values within a template</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   processor, and the literal string to use for the name in name=value</td><td> </td><td class="right">   processor, and the literal string to use for the name in name=value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expansions (aside from when exploding an associative array).</td><td> </td><td class="right">   expansions (aside from when exploding an associative array).</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">Variable names are case-sensitive because the name might be expanded</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   within a case-sensitive URI component.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     variable-list =  varspec *( "," varspec )</td><td> </td><td class="right">     variable-list =  varspec *( "," varspec )</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     varspec       =  varname [ <span class="delete">modifier</span> ]</td><td> </td><td class="rblock">     varspec       =  varname [ <span class="insert">modifier-level4</span> ]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     varname       =  varchar *( varchar <span class="delete">/ "."</span> )</td><td> </td><td class="rblock">     varname       =  varchar *( <span class="insert">["."]</span> varchar )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     varchar       =  ALPHA / DIGIT / "_" / pct-encoded</td><td> </td><td class="right">     varchar       =  ALPHA / DIGIT / "_" / pct-encoded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A varname MAY contain one or more pct-encoded triplets.  These</td><td> </td><td class="right">   A varname MAY contain one or more pct-encoded triplets.  These</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   triplets are considered an essential part of the variable name and</td><td> </td><td class="right">   triplets are considered an essential part of the variable name and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   are not decoded during processing.  A varname containing pct-encoded</td><td> </td><td class="right">   are not decoded during processing.  A varname containing pct-encoded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   characters is not the same variable as a varname with those same</td><td> </td><td class="right">   characters is not the same variable as a varname with those same</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   characters decoded.  Applications that provide URI Templates are</td><td> </td><td class="right">   characters decoded.  Applications that provide URI Templates are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expected to be consistent in their use of pct-encoding within</td><td> </td><td class="right">   expected to be consistent in their use of pct-encoding within</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   variable names.</td><td> </td><td class="right">   variable names.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   An expression MAY reference variables that are unknown to the</td><td> </td><td class="right">   An expression MAY reference variables that are unknown to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   template processor or whose value is set to a special "undefined"</td><td> </td><td class="right">   template processor or whose value is set to a special "undefined"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value, such as undef or null.  Such undefined variables are given</td><td> </td><td class="right">   value, such as undef or null.  Such undefined variables are given</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   special treatment by the expansion process.</td><td> </td><td class="rblock">   special treatment by the expansion process<span class="insert"> (Section 3.2.1)</span>.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A variable value that is a string of length zero is not considered</td><td> </td><td class="right">   A variable value that is a string of length zero is not considered</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   undefined; it has the defined value of an empty string.</td><td> </td><td class="right">   undefined; it has the defined value of an empty string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">A</span> variable may have a composite value in the form of a list of values</td><td> </td><td class="rblock">   <span class="insert">In Level 4 templates, a</span> variable may have a composite value in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   or an associative array of (name, value) pairs.  Such value types are</td><td> </td><td class="rblock">   form of a list of values or an associative array of (name, value)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   not directly indicated by the template syntax, but do have an impact</td><td> </td><td class="rblock">   pairs.  Such value types are not directly indicated by the template</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   on the expansion <span class="delete">process.</span>  A <span class="delete">composite</span> value <span class="delete">with</span> zero <span class="delete">member values</span></td><td> </td><td class="rblock">   syntax, but do have an impact on the expansion <span class="insert">process</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   is considered <span class="delete">undefined.</span></td><td> </td><td class="rblock"><span class="insert">   (Section 3.2.1).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   A <span class="insert">variable defined as a list</span> value <span class="insert">is considered undefined if the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   list contains</span> zero <span class="insert">members.  A variable defined as an associative</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   array of (name, value) pairs</span> is considered <span class="insert">undefined if the array</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   contains zero members or if all member names in the array are</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   associated with undefined values.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.4.  Value Modifiers</td><td> </td><td class="right">2.4.  Value Modifiers</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Each of the variables in a Level 4 template expression can have a</td><td> </td><td class="right">   Each of the variables in a Level 4 template expression can have a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   modifier indicating either that its expansion is limited to a prefix</td><td> </td><td class="right">   modifier indicating either that its expansion is limited to a prefix</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of the variable's value string or that its expansion is exploded as a</td><td> </td><td class="right">   of the variable's value string or that its expansion is exploded as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   composite value in the form of a value list or an associative array</td><td> </td><td class="right">   composite value in the form of a value list or an associative array</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of (name, value) pairs.</td><td> </td><td class="right">   of (name, value) pairs.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     modifier<span class="delete">     </span> =  prefix / explode</td><td> </td><td class="rblock">     modifier<span class="insert">-level4</span> =  prefix / explode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.4.1.  Prefix Values</td><td> </td><td class="right">2.4.1.  Prefix Values</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A prefix modifier indicates that the variable expansion is limited to</td><td> </td><td class="right">   A prefix modifier indicates that the variable expansion is limited to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   a prefix of the variable's value string.  Prefix modifiers are often</td><td> </td><td class="right">   a prefix of the variable's value string.  Prefix modifiers are often</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   used to partition an identifier space hierarchically, as is common in</td><td> </td><td class="right">   used to partition an identifier space hierarchically, as is common in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   reference indices and hash-based storage.  It also serves to limit</td><td> </td><td class="right">   reference indices and hash-based storage.  It also serves to limit</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the expanded value to a maximum number of characters.  Prefix</td><td> </td><td class="right">   the expanded value to a maximum number of characters.  Prefix</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   modifiers are not applicable to variables that have composite values.</td><td> </td><td class="right">   modifiers are not applicable to variables that have composite values.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     prefix        =  ":" max-length</td><td> </td><td class="right">     prefix        =  ":" max-length</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">     max-length    =  %x31-39 <span class="delete">*DIGIT   ; positive integer</span></td><td> </td><td class="rblock">     max-length    =  %x31-39 <span class="insert">0*3DIGIT   ; positive integer &lt; 10000</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The max-length is a positive integer that refers to a maximum number</td><td> </td><td class="right">   The max-length is a positive integer that refers to a maximum number</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   of characters from the beginning of the variable's value as a Unicode</td><td> </td><td class="right">   of characters from the beginning of the variable's value as a Unicode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   string.  Note that this numbering is in characters, not octets, in</td><td> </td><td class="right">   string.  Note that this numbering is in characters, not octets, in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   order to avoid splitting between the octets of a multi-octet UTF-8</td><td> </td><td class="right">   order to avoid splitting between the octets of a multi-octet UTF-8</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   encoded character or within a pct-encoded triplet.  If the max-length</td><td> </td><td class="right">   encoded character or within a pct-encoded triplet.  If the max-length</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   is greater than the length of the variable's value, then the entire</td><td> </td><td class="right">   is greater than the length of the variable's value, then the entire</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value string is used.</td><td> </td><td class="right">   value string is used.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For example,</td><td> </td><td class="right">   For example,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> page 16, line 23</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> page 16, line 28</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {var}              value</td><td> </td><td class="right">       {var}              value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {var:20}           value</td><td> </td><td class="right">       {var:20}           value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {var:3}            val</td><td> </td><td class="right">       {var:3}            val</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {semi}             %3B</td><td> </td><td class="right">       {semi}             %3B</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {semi:2}           %3B</td><td> </td><td class="right">       {semi:2}           %3B</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2.4.2.  Composite Values</td><td> </td><td class="right">2.4.2.  Composite Values</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   An explode ("*") modifier indicates that the variable is to be</td><td> </td><td class="right">   An explode ("*") modifier indicates that the variable is to be</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   treated as a composite value consisting of either a list of <span class="delete">nam</span>es or</td><td> </td><td class="rblock">   treated as a composite value consisting of either a list of <span class="insert">valu</span>es or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   an associative array of (name, value) pairs.  Hence, the expansion</td><td> </td><td class="right">   an associative array of (name, value) pairs.  Hence, the expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   process is applied to each member of the composite as if it were</td><td> </td><td class="right">   process is applied to each member of the composite as if it were</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   listed as a separate variable.  This kind of variable specification</td><td> </td><td class="right">   listed as a separate variable.  This kind of variable specification</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   is significantly less self-documenting than non-exploded variables,</td><td> </td><td class="right">   is significantly less self-documenting than non-exploded variables,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   since there is less correspondence between the variable name and how</td><td> </td><td class="right">   since there is less correspondence between the variable name and how</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the URI reference appears after expansion.</td><td> </td><td class="right">   the URI reference appears after expansion.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     explode       =  "*"</td><td> </td><td class="right">     explode       =  "*"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Since URI Templates do not contain an indication of type or schema,</td><td> </td><td class="right">   Since URI Templates do not contain an indication of type or schema,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> page 17, line 4</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> page 17, line 10</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   address might accept a hundred permutations on fields for address</td><td> </td><td class="right">   address might accept a hundred permutations on fields for address</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   input, including partial addresses (e.g., just the city or postal</td><td> </td><td class="right">   input, including partial addresses (e.g., just the city or postal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   code).  Such a resource could be described as a template with each</td><td> </td><td class="right">   code).  Such a resource could be described as a template with each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and every address component listed in order, or with a far more</td><td> </td><td class="right">   and every address component listed in order, or with a far more</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   simple template that makes use of an explode modifier, as in</td><td> </td><td class="right">   simple template that makes use of an explode modifier, as in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      /mapper{?address*}</td><td> </td><td class="right">      /mapper{?address*}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   along with some context that defines what the variable named</td><td> </td><td class="right">   along with some context that defines what the variable named</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   "address" can include, such as by reference to some other standard</td><td> </td><td class="right">   "address" can include, such as by reference to some other standard</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   for addressing (e.g., <span class="delete">UPU S42 or AS/NZS 4819:2003).</span>  A recipient</td><td> </td><td class="rblock">   for addressing (e.g., <span class="insert">[UPU-S42]).</span>  A recipient aware of the schema</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   aware of the schema can then provide appropriate expansions, such as:</td><td> </td><td class="rblock">   can then provide appropriate expansions, such as:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      /mapper?city=Newport%20Beach&amp;state=CA</td><td> </td><td class="right">      /mapper?city=Newport%20Beach&amp;state=CA</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The expansion process for exploded variables is dependent on both the</td><td> </td><td class="right">   The expansion process for exploded variables is dependent on both the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operator being used and whether the composite value is to be treated</td><td> </td><td class="right">   operator being used and whether the composite value is to be treated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   as a list of values or as an associative array of (name, value)</td><td> </td><td class="right">   as a list of values or as an associative array of (name, value)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   pairs.  Structures are processed as if they are an associative array</td><td> </td><td class="right">   pairs.  Structures are processed as if they are an associative array</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   with names corresponding to the fields in the structure definition</td><td> </td><td class="right">   with names corresponding to the fields in the structure definition</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and "." separators used to indicate name hierarchy in substructures.</td><td> </td><td class="right">   and "." separators used to indicate name hierarchy in substructures.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">If a variable has a composite structure and only some of the fields</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   in that structure have defined values, then only the defined pairs</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   are present in the expansion.  This can be useful for templates that</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   consist of a large number of potential query terms.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   An explode modifier applied to a list variable causes the expansion</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   to iterate over the list's member values.  For path and query</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   parameter expansions, each member value is paired with the variable's</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   name as a (varname, value) pair.  This allows path and query</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   parameters to be repeated for multiple values, as in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     Given the variable assignments</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       year  := ("1965", "2000", "2012")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       dom   := ("example", "com")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     Example Template     Expansion</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       find{?year*}       find?year=1965&amp;year=2000&amp;year=2012</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       www{.dom*}         www.example.com</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.  Expansion</td><td> </td><td class="right">3.  Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The process of URI Template expansion is to scan the template string</td><td> </td><td class="right">   The process of URI Template expansion is to scan the template string</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   from beginning to end, copying literal characters and replacing each</td><td> </td><td class="right">   from beginning to end, copying literal characters and replacing each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expression with the result of applying the expression's operator to</td><td> </td><td class="right">   expression with the result of applying the expression's operator to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the value of each variable named in the expression.  Each variable's</td><td> </td><td class="right">   the value of each variable named in the expression.  Each variable's</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value MUST be formed prior to template expansion.</td><td> </td><td class="right">   value MUST be formed prior to template expansion.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The requirements on expansion for each aspect of the URI Template</td><td> </td><td class="right">   The requirements on expansion for each aspect of the URI Template</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   grammar are defined in this section.  A non-normative algorithm for</td><td> </td><td class="right">   grammar are defined in this section.  A non-normative algorithm for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the expansion process as a whole is provided in Appendix A.</td><td> </td><td class="right">   the expansion process as a whole is provided in Appendix A.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   If a template processor encounters <span class="delete">an error outside of an expression,</span></td><td> </td><td class="rblock">   If a template processor encounters a character sequence <span class="insert">outside an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   such as</span> a character sequence that does not match the &lt;URI-Template&gt;</td><td> </td><td class="rblock"><span class="insert">   expression</span> that does not match the &lt;URI-Template&gt; grammar, then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   grammar, then processing of the template SHOULD cease, the <span class="delete">URI-</span></td><td> </td><td class="rblock">   processing of the template SHOULD cease, the <span class="insert">URI-reference</span> result</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   reference</span> result SHOULD contain the expanded part of the template</td><td> </td><td class="rblock">   SHOULD contain the expanded part of the template followed by the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   followed by the remainder unexpanded, and the location and type of</td><td> </td><td class="rblock">   remainder unexpanded, and the location and type of error SHOULD be</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   error SHOULD be indicated to the invoking application.  If an error</td><td> </td><td class="rblock">   indicated to the invoking application.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   is encountered <span class="delete">inside</span> an expression, such as an operator or value</td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   modifier that <span class="delete">it</span> does not recognize or <span class="delete">cannot</span> support, then the</td><td> </td><td class="rblock">   If an error is encountered <span class="insert">in</span> an expression, such as an operator or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   expression SHOULD be copied to the result unexpanded, processing of</td><td> </td><td class="rblock">   value modifier that <span class="insert">the template processor</span> does not recognize or <span class="insert">does</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the remainder of the template SHOULD continue, and the location and</td><td> </td><td class="rblock"><span class="insert">   not yet</span> support, <span class="insert">or a character is found that is not allowed by the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   type of error SHOULD be indicated to the invoking application.  If an</td><td> </td><td class="rblock"><span class="insert">   &lt;expression&gt; grammar,</span> then the <span class="insert">unprocessed parts of the</span> expression</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   error occurs, the result returned might not be a valid URI reference;</td><td> </td><td class="rblock">   SHOULD be copied to the result unexpanded, processing of the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   it will be an incompletely expanded template string that is only</td><td> </td><td class="rblock">   remainder of the template SHOULD continue, and the location and type</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   intended for diagnostic use.</td><td> </td><td class="rblock">   of error SHOULD be indicated to the invoking application.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   If an error occurs, the result returned might not be a valid URI</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   reference; it will be an incompletely expanded template string that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   is only intended for diagnostic use.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.1.  Literal Expansion</td><td> </td><td class="right">3.1.  Literal Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If the literal character is allowed anywhere in the URI syntax</td><td> </td><td class="right">   If the literal character is allowed anywhere in the URI syntax</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (unreserved / reserved / pct-encoded ), then it is copied directly to</td><td> </td><td class="right">   (unreserved / reserved / pct-encoded ), then it is copied directly to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the result string.  Otherwise, the pct-encoded equivalent of the</td><td> </td><td class="right">   the result string.  Otherwise, the pct-encoded equivalent of the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   literal character is copied to the result string by encoding the</td><td> </td><td class="right">   literal character is copied to the result string by encoding the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   character in UTF-8 (a sequence of octets) and then encoding each</td><td> </td><td class="right">   character in UTF-8 (a sequence of octets) and then encoding each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   octet as a pct-encoded triplet.</td><td> </td><td class="right">   octet as a pct-encoded triplet.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.  Expression Expansion</td><td> </td><td class="right">3.2.  Expression Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Each expression is indicated by an opening brace ("{") character and</td><td> </td><td class="right">   Each expression is indicated by an opening brace ("{") character and</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   continues until the next closing brace ("}").  <span class="delete">The</span> expression is</td><td> </td><td class="rblock">   continues until the next closing brace ("}").  <span class="insert">Expressions cannot be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   expanded by determining <span class="delete">the</span> expression type and then following that</td><td> </td><td class="rblock"><span class="insert">   nested.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   type's expansion process for each comma-separated varspec in the</td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   expression.  Level 1 templates are limited to the default operator</td><td> </td><td class="rblock"><span class="insert">   An</span> expression is expanded by determining <span class="insert">its</span> expression type and then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   (simple string value expansion) and a single variable per expression.</td><td> </td><td class="rblock">   following that type's expansion process for each comma-separated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Level 2 templates are limited to a single varspec per expression.</td><td> </td><td class="rblock">   varspec in the expression.  Level 1 templates are limited to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   default operator (simple string value expansion) and a single</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   variable per expression.  Level 2 templates are limited to a single</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   varspec per expression.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The expression type is determined by looking at the first character</td><td> </td><td class="right">   The expression type is determined by looking at the first character</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   after the opening brace.  If the character is an operator, then</td><td> </td><td class="right">   after the opening brace.  If the character is an operator, then</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   remember the expression type associated with that operator for later</td><td> </td><td class="right">   remember the expression type associated with that operator for later</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expansion decisions and skip to the next character for the variable-</td><td> </td><td class="right">   expansion decisions and skip to the next character for the variable-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   list.  If the first character is not an operator, then the expression</td><td> </td><td class="right">   list.  If the first character is not an operator, then the expression</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   type is simple string expansion and the first character is the</td><td> </td><td class="right">   type is simple string expansion and the first character is the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   beginning of the variable-list.</td><td> </td><td class="right">   beginning of the variable-list.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The examples in the subsections below use the following definitions</td><td> </td><td class="right">   The examples in the subsections below use the following definitions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   for variable values:</td><td> </td><td class="right">   for variable values:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         dom   := <span class="delete">"example.com"</span></td><td> </td><td class="rblock">         <span class="insert">count := ("one", "two", "three")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">         dom   := <span class="insert">("example", "com")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         dub   := "me/too"</td><td> </td><td class="right">         dub   := "me/too"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         hello := "Hello World!"</td><td> </td><td class="right">         hello := "Hello World!"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         half  := "50%"</td><td> </td><td class="right">         half  := "50%"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         var   := "value"</td><td> </td><td class="right">         var   := "value"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         who   := "fred"</td><td> </td><td class="right">         who   := "fred"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         base  := "http://example.com/home/"</td><td> </td><td class="right">         base  := "http://example.com/home/"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         path  := "/foo/bar"</td><td> </td><td class="right">         path  := "/foo/bar"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         list  := <span class="delete">[ "red", "green", "blue" ]</span></td><td> </td><td class="rblock">         list  := <span class="insert">("red", "green", "blue")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         keys  := [("semi",";"),("dot","."),("comma",",")]</td><td> </td><td class="right">         keys  := [("semi",";"),("dot","."),("comma",",")]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         v     := "6"</td><td> </td><td class="right">         v     := "6"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         x     := "1024"</td><td> </td><td class="right">         x     := "1024"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         y     := "768"</td><td> </td><td class="right">         y     := "768"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         empty := ""</td><td> </td><td class="right">         empty := ""</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         empty_keys  := []</td><td> </td><td class="right">         empty_keys  := []</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         undef := null</td><td> </td><td class="right">         undef := null</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.1.  Variable Expansion</td><td> </td><td class="right">3.2.1.  Variable Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   A variable that is undefined has no value and is ignored by the</td><td> </td><td class="rblock">   A variable that is undefined <span class="insert">(Section 2.3)</span> has no value and is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   expansion process.  <span class="delete">A variable defined as a list value is considered</span></td><td> </td><td class="rblock">   ignored by the expansion process.  If all of the variables in an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   undefined if the list contains zero members.  A variable defined as</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   an associative array of (name, value) pairs is considered undefined</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   if the array contains zero members or if all member names in the</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   array have undefined values.</span>  If all of the variables in an</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expression are undefined, then the expression's expansion is the</td><td> </td><td class="right">   expression are undefined, then the expression's expansion is the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   empty string.</td><td> </td><td class="right">   empty string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Variable expansion of a defined, non-empty value results in a</td><td> </td><td class="right">   Variable expansion of a defined, non-empty value results in a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   substring of allowed URI characters.  A template processor MUST</td><td> </td><td class="right">   substring of allowed URI characters.  A template processor MUST</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   encode the value string as UTF-8 and transform each octet that is not</td><td> </td><td class="right">   encode the value string as UTF-8 and transform each octet that is not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   in the allowed set into the corresponding pct-encoded triplet.  The</td><td> </td><td class="right">   in the allowed set into the corresponding pct-encoded triplet.  The</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   allowed set depends on the expression type: reserved ("+") and</td><td> </td><td class="right">   allowed set depends on the expression type: reserved ("+") and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   fragment ("#") expansions allow the set of characters in ( unreserved</td><td> </td><td class="right">   fragment ("#") expansions allow the set of characters in ( unreserved</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   / reserved / pct-encoded ) to be passed through without pct-encoding,</td><td> </td><td class="right">   / reserved / pct-encoded ) to be passed through without pct-encoding,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> page 19, line 28</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> page 20, line 12</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   If a variable appears more than once in an expression or within</td><td> </td><td class="right">   If a variable appears more than once in an expression or within</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   multiple expressions of a URI Template, the value of that variable</td><td> </td><td class="right">   multiple expressions of a URI Template, the value of that variable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   MUST remain static throughout the expansion process (i.e., the</td><td> </td><td class="right">   MUST remain static throughout the expansion process (i.e., the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   variable must have the same value for the purpose of calculating each</td><td> </td><td class="right">   variable must have the same value for the purpose of calculating each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expansion).  However, if reserved characters or pct-encoded triplets</td><td> </td><td class="right">   expansion).  However, if reserved characters or pct-encoded triplets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   occur in the value, they will be pct-encoded by some expression types</td><td> </td><td class="right">   occur in the value, they will be pct-encoded by some expression types</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and not by others.</td><td> </td><td class="right">   and not by others.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For a variable that is a simple string value, expansion consists of</td><td> </td><td class="right">   For a variable that is a simple string value, expansion consists of</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   appending the encoded value to the result string.  <span class="delete">The</span> explode</td><td> </td><td class="rblock">   appending the encoded value to the result string.  <span class="insert">An</span> explode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   modifier has no effect.  <span class="delete">The</span> prefix modifier limits the expansion to</td><td> </td><td class="rblock">   modifier has no effect.  <span class="insert">A</span> prefix modifier limits the expansion to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the first max-length characters of the decoded value.  If the value</td><td> </td><td class="right">   the first max-length characters of the decoded value.  If the value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   contains multibyte UTF-8, care must be taken to avoid splitting the</td><td> </td><td class="right">   contains multibyte UTF-8, care must be taken to avoid splitting the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   value in mid-character: count each Unicode codepoint as one</td><td> </td><td class="right">   value in mid-character: count each Unicode codepoint as one</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   character.</td><td> </td><td class="right">   character.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   For a variable that is <span class="delete">a list</span> of <span class="delete">values,</span> expansion consists of</td><td> </td><td class="rblock">   For a variable that is <span class="insert">an associative array, expansion depends on</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">concatenating the defined member string values, encoded as above,</span></td><td> </td><td class="rblock"><span class="insert">   both the expression type and the presence</span> of <span class="insert">an explode modifier.  If</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   with</span> a <span class="delete">separator string inserted between those values.</span>  If <span class="delete">no</span> explode</td><td> </td><td class="rblock"><span class="insert">   there is no explode modifier,</span> expansion consists of <span class="insert">appending</span> a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">modifier</span> is <span class="delete">given,</span> the <span class="delete">separator</span> string <span class="delete">is</span> a <span class="delete">comma (",").  If an</span></td><td> </td><td class="rblock">   <span class="insert">comma-separated concatenation of each (name, value) pair that has a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   explode modifier is given,</span> the separator string is defined <span class="delete">per</span></td><td> </td><td class="rblock"><span class="insert">   defined value.</span>  If <span class="insert">there is an</span> explode <span class="insert">modifier, expansion consists</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   operator</span> by the following <span class="delete">table, where NUL is the default expression</span></td><td> </td><td class="rblock"><span class="insert">   of appending each pair that has a defined value as either</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   type:</span></td><td> </td><td class="rblock"><span class="insert">   "name=value" or, if the value</span> is the <span class="insert">empty</span> string <span class="insert">and the expression</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   type does not indicate form-style parameters (i.e., not</span> a <span class="insert">"?" or "&amp;"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   type), simply "name".  Both name and value strings are encoded in</span> the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">same way as simple string values.  A</span> separator string is <span class="insert">appended</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   between defined pairs according to the expression type, as</span> defined by</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   the following <span class="insert">table:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">.-----------------------------------------------------------------.</span></td><td> </td><td class="rblock">      <span class="insert">Type    Separator</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   |  operator:  NUL</span>     +      <span class="delete">.      /      ;      ?      &amp;     #  |</span></td><td> </td><td class="rblock"><span class="insert">                 ","     (default)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   | separator:</span>  ","    ","    "."    "/"    ";"    "&amp;"    "&amp;"   <span class="delete">"," |</span></td><td> </td><td class="rblock">        +        ","</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   `-----------------------------------------------------------------'</span></td><td> </td><td class="rblock">        <span class="insert">#</span>        ","</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">        <span class="insert">.</span>        "."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">        <span class="insert">/</span>        "/"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">        <span class="insert">;</span>        ";"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">        <span class="insert">?</span>        "&amp;"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">        <span class="insert">&amp;</span>        "&amp;"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   For a variable that is an <span class="delete">associative array,</span> expansion consists of a</td><td> </td><td class="rblock">   For a variable that is <span class="insert">a list of values, expansion depends on both</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">list</span> of <span class="delete">either "name,value" (without</span> explode <span class="delete">modifier)</span> or</td><td> </td><td class="rblock"><span class="insert">   the expression type and the presence of</span> an <span class="insert">explode modifier.  If</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">"name=value" (with explode modifier) pairs, excluding any pairs for</span></td><td> </td><td class="rblock"><span class="insert">   there is no explode modifier, the</span> expansion consists of a <span class="insert">comma-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   which</span> the <span class="delete">corresponding</span> value is <span class="delete">undefined,</span> with <span class="delete">a separator string</span></td><td> </td><td class="rblock"><span class="insert">   separated concatenation</span> of <span class="insert">the defined member string values.  If</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   inserted between defined pairs.  The separator string is defined in</span></td><td> </td><td class="rblock"><span class="insert">   there is an</span> explode <span class="insert">modifier and the expression type expands named</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the <span class="delete">same way</span> as <span class="delete">for</span> list <span class="delete">variables above.  Both the name and</span> value</td><td> </td><td class="rblock"><span class="insert">   parameters (";", "?",</span> or <span class="insert">"&amp;"), then</span> the <span class="insert">list is expanded as if it</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">strings are encoded in</span> the <span class="delete">same way</span> as <span class="delete">simple string values.</span></td><td> </td><td class="rblock"><span class="insert">   were an associative array in which each member</span> value is <span class="insert">paired</span> with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   the <span class="insert">list's varname.  Otherwise, the value will be expanded</span> as <span class="insert">if it</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   were a</span> list <span class="insert">of separate variable values, each</span> value <span class="insert">separated by</span> the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">expression type's associated separator</span> as <span class="insert">defined by the table above.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     Example Template     Expansion</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {count}            one,two,three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {count*}           one,two,three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {/count}           /one,two,three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {/count*}          /one/two/three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {;count}           ;count=one,two,three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {;count*}          ;count=one;count=two;count=three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {?count}           ?count=one,two,three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {?count*}          ?count=one&amp;count=two&amp;count=three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {&amp;count*}          &amp;count=one&amp;count=two&amp;count=three</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.2.  Simple String Expansion: {var}</td><td> </td><td class="right">3.2.2.  Simple String Expansion: {var}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Simple string expansion is the default expression type when no</td><td> </td><td class="right">   Simple string expansion is the default expression type when no</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operator is given.</td><td> </td><td class="right">   operator is given.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For each defined variable in the variable-list, perform variable</td><td> </td><td class="right">   For each defined variable in the variable-list, perform variable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   expansion, as defined in Section 3.2.1, with the allowed characters</td><td> </td><td class="right">   expansion, as defined in Section 3.2.1, with the allowed characters</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   being those in the unreserved set.  If more than one variable has a</td><td> </td><td class="right">   being those in the unreserved set.  If more than one variable has a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   defined value, append a comma (",") to the result string as a</td><td> </td><td class="right">   defined value, append a comma (",") to the result string as a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> page 22, line 24</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> page 23, line 39</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   unreserved set.</td><td> </td><td class="right">   unreserved set.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Since "." is in the unreserved set, a value that contains a "." has</td><td> </td><td class="right">   Since "." is in the unreserved set, a value that contains a "." has</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the effect of adding multiple labels.</td><td> </td><td class="right">   the effect of adding multiple labels.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     Example Template     Expansion</td><td> </td><td class="right">     Example Template     Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {.who}             .fred</td><td> </td><td class="right">       {.who}             .fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {.who,who}         .fred.fred</td><td> </td><td class="right">       {.who,who}         .fred.fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {.half,who}        .50%25.fred</td><td> </td><td class="right">       {.half,who}        .50%25.fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       www{.dom<span class="delete">} </span>         www.example.com</td><td> </td><td class="rblock">       www{.dom<span class="insert">*}</span>         www.example.com</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.var}            X.value</td><td> </td><td class="right">       X{.var}            X.value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.empty}          X.</td><td> </td><td class="right">       X{.empty}          X.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.undef}          X</td><td> </td><td class="right">       X{.undef}          X</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.var:3}          X.val</td><td> </td><td class="right">       X{.var:3}          X.val</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.list}           X.red,green,blue</td><td> </td><td class="right">       X{.list}           X.red,green,blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.list*}          X.red.green.blue</td><td> </td><td class="right">       X{.list*}          X.red.green.blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.keys}           X.semi,%3B,dot,.,comma,%2C</td><td> </td><td class="right">       X{.keys}           X.semi,%3B,dot,.,comma,%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.keys*}          X.semi=%3B.dot=..comma=%2C</td><td> </td><td class="right">       X{.keys*}          X.semi=%3B.dot=..comma=%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.empty_keys}     X</td><td> </td><td class="right">       X{.empty_keys}     X</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       X{.empty_keys*}    X</td><td> </td><td class="right">       X{.empty_keys*}    X</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l15" /><small>skipping to change at</small><em> page 23, line 51</em></th><th> </th><th><a name="part-r15" /><small>skipping to change at</small><em> page 25, line 19</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;who}             ;who=fred</td><td> </td><td class="right">       {;who}             ;who=fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;half}            ;half=50%25</td><td> </td><td class="right">       {;half}            ;half=50%25</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;empty}           ;empty</td><td> </td><td class="right">       {;empty}           ;empty</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;v,empty,who}     ;v=6;empty;who=fred</td><td> </td><td class="right">       {;v,empty,who}     ;v=6;empty;who=fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;v,bar,who}       ;v=6;who=fred</td><td> </td><td class="right">       {;v,bar,who}       ;v=6;who=fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;x,y}             ;x=1024;y=768</td><td> </td><td class="right">       {;x,y}             ;x=1024;y=768</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;x,y,empty}       ;x=1024;y=768;empty</td><td> </td><td class="right">       {;x,y,empty}       ;x=1024;y=768;empty</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;x,y,undef}       ;x=1024;y=768</td><td> </td><td class="right">       {;x,y,undef}       ;x=1024;y=768</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;hello:5}         ;hello=Hello</td><td> </td><td class="right">       {;hello:5}         ;hello=Hello</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;list}            ;list=red,green,blue</td><td> </td><td class="right">       {;list}            ;list=red,green,blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       {;list*}           ;<span class="delete">red;green;</span>blue</td><td> </td><td class="rblock">       {;list*}           ;<span class="insert">list=red;list=green;list=</span>blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;keys}            ;keys=semi,%3B,dot,.,comma,%2C</td><td> </td><td class="right">       {;keys}            ;keys=semi,%3B,dot,.,comma,%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {;keys*}           ;semi=%3B;dot=.;comma=%2C</td><td> </td><td class="right">       {;keys*}           ;semi=%3B;dot=.;comma=%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.8.  Form-style query expansion: {?var}</td><td> </td><td class="right">3.2.8.  Form-style query expansion: {?var}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Form-style query expansion, as indicated by the question-mark ("?")</td><td> </td><td class="right">   Form-style query expansion, as indicated by the question-mark ("?")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operator in Level 3 and above templates, is useful for describing an</td><td> </td><td class="right">   operator in Level 3 and above templates, is useful for describing an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   entire optional query component.</td><td> </td><td class="right">   entire optional query component.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For each defined variable in the variable-list:</td><td> </td><td class="right">   For each defined variable in the variable-list:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l16" /><small>skipping to change at</small><em> page 24, line 31</em></th><th> </th><th><a name="part-r16" /><small>skipping to change at</small><em> page 25, line 48</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     Example Template     Expansion</td><td> </td><td class="right">     Example Template     Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?who}             ?who=fred</td><td> </td><td class="right">       {?who}             ?who=fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?half}            ?half=50%25</td><td> </td><td class="right">       {?half}            ?half=50%25</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?x,y}             ?x=1024&amp;y=768</td><td> </td><td class="right">       {?x,y}             ?x=1024&amp;y=768</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?x,y,empty}       ?x=1024&amp;y=768&amp;empty=</td><td> </td><td class="right">       {?x,y,empty}       ?x=1024&amp;y=768&amp;empty=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?x,y,undef}       ?x=1024&amp;y=768</td><td> </td><td class="right">       {?x,y,undef}       ?x=1024&amp;y=768</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?var:3}           ?var=val</td><td> </td><td class="right">       {?var:3}           ?var=val</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?list}            ?list=red,green,blue</td><td> </td><td class="right">       {?list}            ?list=red,green,blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       {?list*}           ?<span class="delete">red&amp;green&amp;</span>blue</td><td> </td><td class="rblock">       {?list*}           ?<span class="insert">list=red&amp;list=green&amp;list=</span>blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?keys}            ?keys=semi,%3B,dot,.,comma,%2C</td><td> </td><td class="right">       {?keys}            ?keys=semi,%3B,dot,.,comma,%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {?keys*}           ?semi=%3B&amp;dot=.&amp;comma=%2C</td><td> </td><td class="right">       {?keys*}           ?semi=%3B&amp;dot=.&amp;comma=%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">3.2.9.  Form-style query continuation: {&amp;var}</td><td> </td><td class="right">3.2.9.  Form-style query continuation: {&amp;var}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Form-style query continuation, as indicated by the ampersand ("&amp;")</td><td> </td><td class="right">   Form-style query continuation, as indicated by the ampersand ("&amp;")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operator in Level 3 and above templates, is useful for describing</td><td> </td><td class="right">   operator in Level 3 and above templates, is useful for describing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   optional &amp;name=value pairs in a template that already contains a</td><td> </td><td class="right">   optional &amp;name=value pairs in a template that already contains a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   literal query component with fixed parameters.</td><td> </td><td class="right">   literal query component with fixed parameters.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l17" /><small>skipping to change at</small><em> page 25, line 15</em></th><th> </th><th><a name="part-r17" /><small>skipping to change at</small><em> page 26, line 31</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">     Example Template     Expansion</td><td> </td><td class="right">     Example Template     Expansion</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;who}             &amp;who=fred</td><td> </td><td class="right">       {&amp;who}             &amp;who=fred</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;half}            &amp;half=50%25</td><td> </td><td class="right">       {&amp;half}            &amp;half=50%25</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ?fixed=yes{&amp;x}     ?fixed=yes&amp;x=1024</td><td> </td><td class="right">       ?fixed=yes{&amp;x}     ?fixed=yes&amp;x=1024</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;x,y,empty}       &amp;x=1024&amp;y=768&amp;empty=</td><td> </td><td class="right">       {&amp;x,y,empty}       &amp;x=1024&amp;y=768&amp;empty=</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;x,y,undef}       &amp;x=1024&amp;y=768</td><td> </td><td class="right">       {&amp;x,y,undef}       &amp;x=1024&amp;y=768</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;var:3}           &amp;var=val</td><td> </td><td class="right">       {&amp;var:3}           &amp;var=val</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;list}            &amp;list=red,green,blue</td><td> </td><td class="right">       {&amp;list}            &amp;list=red,green,blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       {&amp;list*}           &amp;<span class="delete">red&amp;green&amp;</span>blue</td><td> </td><td class="rblock">       {&amp;list*}           &amp;<span class="insert">list=red&amp;list=green&amp;list=</span>blue</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;keys}            &amp;keys=semi,%3B,dot,.,comma,%2C</td><td> </td><td class="right">       {&amp;keys}            &amp;keys=semi,%3B,dot,.,comma,%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {&amp;keys*}           &amp;semi=%3B&amp;dot=.&amp;comma=%2C</td><td> </td><td class="right">       {&amp;keys*}           &amp;semi=%3B&amp;dot=.&amp;comma=%2C</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">4.  Security Considerations</td><td> </td><td class="right">4.  Security Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   A URI Template does not contain active or executable content.  Other</td><td> </td><td class="rblock">   A URI Template does not contain active or executable content.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   security considerations are the same as those for URIs, as described</td><td> </td><td class="rblock">   <span class="insert">However, it might be possible to craft unanticipated URIs if an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   in section 7 of [RFC3986].</td><td> </td><td class="rblock"><span class="insert">   attacker is given control over the template or over the variable</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   values within an expression that allows reserved characters in the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   expansion.  In either case, the security considerations are largely</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   determined by who provides the template, who provides the values to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   use for variables within the template, in what execution context the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   expansion occurs (client or server), and where the resulting URIs are</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   used.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   This specification does not limit where URI Templates might be used.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Current implementations exist within server-side development</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   frameworks and within client-side javascript for computed links or</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   forms.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Within frameworks, templates usually act as guides for where data</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   might occur within later (request-time) URIs in client requests.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Hence, the security concerns are not in the templates themselves, but</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   rather in how the server extracts and processes the user-provided</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   data within a normal Web request.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Within client-side implementations, a URI template has many of the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   same properties as HTML forms, except limited to URI characters and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   possibly included in HTTP header field values instead of just message</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   body content.  Care ought to be taken to ensure that potentially</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   dangerous URI reference strings, such as those beginning with</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   "javascript:", do not appear in the expansion unless both the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   template and the values are provided by a trusted source.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Other security considerations are the same as those for URIs, as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   described in section 7 of [RFC3986].</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">5.  IANA Considerations</td><td> </td><td class="right">5.  IANA Considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   No IANA actions are required by this document.</td><td> </td><td class="right">   No IANA actions are required by this document.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">6.  Acknowledgments</td><td> </td><td class="right">6.  Acknowledgments</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The following people made <span class="delete">significant</span> contributions to this</td><td> </td><td class="rblock">   The following people made contributions to this specification: Mike</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   specification: Mike Burrows, Michaeljohn Clement, DeWitt Clinton,</td><td> </td><td class="rblock">   Burrows, Michaeljohn Clement, DeWitt Clinton, John Cowan, <span class="insert">Stephen</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   John Cowan, Robbie Gates, James H. Manger, Marc Portier, <span class="delete">and</span> James</td><td> </td><td class="rblock"><span class="insert">   Farrell,</span> Robbie Gates, <span class="insert">Vijay K. Gurbani, Peter Johanson, Murray S.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Snell.</span></td><td> </td><td class="rblock"><span class="insert">   Kucherawy,</span> James H. Manger, <span class="insert">Tom Petch,</span> Marc Portier, <span class="insert">Pete Resnick,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   James <span class="insert">Snell, and Jiankang Yao.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">7.  Normative References</td><td> </td><td class="rblock">7.  <span class="insert">References</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">7.1.</span>  Normative References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [ASCII]    American National Standards Institute, "Coded Character</td><td> </td><td class="right">   [ASCII]    American National Standards Institute, "Coded Character</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Set - 7-bit American Standard Code for Information</td><td> </td><td class="right">              Set - 7-bit American Standard Code for Information</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Interchange", ANSI X3.4, 1986.</td><td> </td><td class="right">              Interchange", ANSI X3.4, 1986.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate</td><td> </td><td class="right">   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Requirement Levels", BCP 14, RFC 2119, March 1997.</td><td> </td><td class="right">              Requirement Levels", BCP 14, RFC 2119, March 1997.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">[RFC2978]  Freed, N. and J. Postel, "IANA Charset Registration</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              Procedures", BCP 19, RFC 2978, October 2000.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC3629]  Yergeau, F., "UTF-8, a transformation format of ISO</td><td> </td><td class="right">   [RFC3629]  Yergeau, F., "UTF-8, a transformation format of ISO</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              10646", STD 63, RFC 3629, November 2003.</td><td> </td><td class="right">              10646", STD 63, RFC 3629, November 2003.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform</td><td> </td><td class="right">   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Resource Identifier (URI): Generic Syntax", STD 66,</td><td> </td><td class="right">              Resource Identifier (URI): Generic Syntax", STD 66,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              RFC 3986, January 2005.</td><td> </td><td class="right">              RFC 3986, January 2005.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC3987]  Duerst, M. and M. Suignard, "Internationalized Resource</td><td> </td><td class="right">   [RFC3987]  Duerst, M. and M. Suignard, "Internationalized Resource</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Identifiers (IRIs)", RFC 3987, January 2005.</td><td> </td><td class="right">              Identifiers (IRIs)", RFC 3987, January 2005.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [RFC5234]  Crocker, D. and P. Overell, "Augmented BNF for Syntax</td><td> </td><td class="right">   [RFC5234]  Crocker, D. and P. Overell, "Augmented BNF for Syntax</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Specifications: ABNF", STD 68, RFC 5234, January 2008.</td><td> </td><td class="right">              Specifications: ABNF", STD 68, RFC 5234, January 2008.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0059" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">[UNIV4]</span>    The Unicode Consortium, "The Unicode Standard, Version</td><td> </td><td class="rblock">   <span class="insert">[RFC6365]  Hoffman, P. and J. Klensin, "Terminology Used in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              <span class="delete">4.0.1, defined by: The Unicode Standard, Version 4.0</span></td><td> </td><td class="rblock"><span class="insert">              Internationalization in the IETF", BCP 166, RFC 6365,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              (Reading, MA, Addison-Wesley, 2003.</span> ISBN <span class="delete">0-321-18578-1),</span></td><td> </td><td class="rblock"><span class="insert">              September 2011.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              as amended by Unicode 4.0.1</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              (http://www.unicode.org/versions/Unicode4.0.1/)",</span></td><td> </td><td class="rblock"><span class="insert">   [UNIV6]</span>    The Unicode Consortium, "The Unicode Standard, Version</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">              March 2004.</span></td><td> </td><td class="rblock">              <span class="insert">6.0.0",</span> ISBN <span class="insert">978-1-936213-01-6, October 2011,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;http://www.unicode.org/versions/Unicode6.0.0/&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [UTR15]    Davis, M. and M. Duerst, "Unicode Normalization Forms",</td><td> </td><td class="right">   [UTR15]    Davis, M. and M. Duerst, "Unicode Normalization Forms",</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0060" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">              Unicode Standard Annex # 15, April <span class="delete">2003.</span></td><td> </td><td class="rblock">              Unicode Standard Annex # 15, April <span class="insert">2003,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;http://www.unicode.org/unicode/reports/tr15/</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              tr15-23.html&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0061" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">[1]  &lt;http://lists.w3.org/Archives/Public/uri/&gt;</span></td><td> </td><td class="rblock"><span class="insert">7.2.  Informative References</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [OpenSearch]</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Clinton, D., "OpenSearch 1.1", Draft 5, December 2011,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;http://www.opensearch.org/Specifications/OpenSearch&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [UPU-S42]  Universal Postal Union, "International Postal Address</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Components and Templates", UPU S42-1, November 2002, &lt;http</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              ://www.upu.int/en/activities/addressing/standards.html&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [WADL]     Hadley, M., "Web Application Description Language", World</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Wide Web Consortium Member Submission SUBM-wadl-20090831,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              August 2009,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;http://www.w3.org/Submission/2009/SUBM-wadl-20090831/&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [WSDL]     Weerawarana, S., Moreau, J., Ryman, A., and R. Chinnici,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              "Web Services Description Language (WSDL) Version 2.0 Part</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              1: Core Language", World Wide Web Consortium</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Recommendation REC-wsdl20-20070626, June 2007,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;http://www.w3.org/TR/2007/REC-wsdl20-20070626&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Appendix A.  Implementation Hints</td><td> </td><td class="right">Appendix A.  Implementation Hints</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The normative sections on expansion describe each operator with a</td><td> </td><td class="right">   The normative sections on expansion describe each operator with a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   separate expansion process for the sake of descriptive clarity.  In</td><td> </td><td class="right">   separate expansion process for the sake of descriptive clarity.  In</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   actual implementations, we expect the expressions to be processed</td><td> </td><td class="right">   actual implementations, we expect the expressions to be processed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   left-to-right using a common algorithm that has only minor variations</td><td> </td><td class="right">   left-to-right using a common algorithm that has only minor variations</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0062" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   in process per operator.  This appendix describes one such algorithm.</td><td> </td><td class="rblock">   in process per operator.  This <span class="insert">non-normative</span> appendix describes one</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   such algorithm.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Initialize an empty result string and its non-error state.</td><td> </td><td class="right">   Initialize an empty result string and its non-error state.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Scan the template and copy literals to the result string (as in</td><td> </td><td class="right">   Scan the template and copy literals to the result string (as in</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0063" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Section 3.1) until an expression is indicated by a <span class="delete">"{"</span> or the</td><td> </td><td class="rblock">   Section 3.1) until an expression is indicated by a <span class="insert">"{", an error is</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   template ends.  When it ends, return the result string and its</td><td> </td><td class="rblock"><span class="insert">   indicated by the presence of a non-literals character other than "{",</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   or the template ends.  When it ends, return the result string and its</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   current error or non-error state.</td><td> </td><td class="right">   current error or non-error state.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If an expression is found, scan the template to the next "}" and</td><td> </td><td class="right">   o  If an expression is found, scan the template to the next "}" and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      extract the characters in between the braces.</td><td> </td><td class="right">      extract the characters in between the braces.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If the template ends before a "}", then append the "{" and</td><td> </td><td class="right">   o  If the template ends before a "}", then append the "{" and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      extracted characters to the result string and return with an error</td><td> </td><td class="right">      extracted characters to the result string and return with an error</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      status indicating the expression is malformed.</td><td> </td><td class="right">      status indicating the expression is malformed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Examine the first character of the extracted expression for an</td><td> </td><td class="right">   Examine the first character of the extracted expression for an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   operator.</td><td> </td><td class="right">   operator.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0064" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                         </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If the expression ended (i.e., is "{}"), an operator is found that</td><td> </td><td class="right">   o  If the expression ended (i.e., is "{}"), an operator is found that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      is unknown or unimplemented, or the character is not in the</td><td> </td><td class="right">      is unknown or unimplemented, or the character is not in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      varchar set (Section 2.3), then append "{", the extracted</td><td> </td><td class="right">      varchar set (Section 2.3), then append "{", the extracted</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      expression, and "}" to the result string, remember that the result</td><td> </td><td class="right">      expression, and "}" to the result string, remember that the result</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      is in an error state, and then go back to scan the remainder of</td><td> </td><td class="right">      is in an error state, and then go back to scan the remainder of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the template.</td><td> </td><td class="right">      the template.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If a known and implemented operator is found, store the operator</td><td> </td><td class="right">   o  If a known and implemented operator is found, store the operator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and skip to the next character to begin the varspec-list.</td><td> </td><td class="right">      and skip to the next character to begin the varspec-list.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Otherwise, store the operator as NUL (simple string expansion).</td><td> </td><td class="right">   o  Otherwise, store the operator as NUL (simple string expansion).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l18" /><small>skipping to change at</small><em> page 27, line 43</em></th><th> </th><th><a name="part-r18" /><small>skipping to change at</small><em> page 30, line 17</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   |------------------------------------------------------------------|</td><td> </td><td class="right">   |------------------------------------------------------------------|</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | first |  ""     ""     "."     "/"     ";"    "?"    "&amp;"    "#"  |</td><td> </td><td class="right">   | first |  ""     ""     "."     "/"     ";"    "?"    "&amp;"    "#"  |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | sep   |  ","    ","    "."     "/"     ";"    "&amp;"    "&amp;"    ","  |</td><td> </td><td class="right">   | sep   |  ","    ","    "."     "/"     ";"    "&amp;"    "&amp;"    ","  |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | named | false  false  false   false   true   true   true   false |</td><td> </td><td class="right">   | named | false  false  false   false   true   true   true   false |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | ifemp |  ""     ""     ""      ""      ""     "="    "="    ""   |</td><td> </td><td class="right">   | ifemp |  ""     ""     ""      ""      ""     "="    "="    ""   |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   | allow |   U     U+R     U       U       U      U      U     U+R  |</td><td> </td><td class="right">   | allow |   U     U+R     U       U       U      U      U     U+R  |</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   `------------------------------------------------------------------'</td><td> </td><td class="right">   `------------------------------------------------------------------'</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   With the above table in mind, process the variable-list as follows:</td><td> </td><td class="right">   With the above table in mind, process the variable-list as follows:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0065" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   For each varspec, extract the varname and <span class="delete">optional</span> modifier, <span class="delete">lookup</span></td><td> </td><td class="rblock">   For each varspec, extract <span class="insert">a variable name and optional modifier from</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the value for <span class="delete">that variable,</span> and <span class="delete">then:</span></td><td> </td><td class="rblock"><span class="insert">   the expression by scanning the variable-list until a character not in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   the varname <span class="insert">set is found or the end of the expression is reached.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   o  If it is the end of the expression and the varname is empty, go</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      back to scan the remainder of the template.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   o  If it is not the end of the expression and the last character</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      found indicates a modifier ("*" or ":"), remember that modifier.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      If it is an explode ("*"), scan the next character.  If it is a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      prefix (":"), continue scanning the next one to four characters</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      for the max-length represented as a decimal integer and then, if</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      it is still not the end of the expression, scan the next</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      character.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   o  If it is not the end of the expression and the last character</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      found is not a comma (","), append "{", the stored operator (if</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      any), the scanned varname</span> and modifier, <span class="insert">the remaining expression,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      and "}" to the result string, remember that the result is in an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      error state, and then go back to scan the remainder of the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      template.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Lookup</span> the value for <span class="insert">the scanned variable name,</span> and <span class="insert">then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If the varname is unknown or corresponds to a variable with an</td><td> </td><td class="right">   o  If the varname is unknown or corresponds to a variable with an</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0066" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      undefined value (Section <span class="delete">3.2.1</span>), then skip to the next varspec.</td><td> </td><td class="rblock">      undefined value (Section <span class="insert">2.3</span>), then skip to the next varspec.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  If this is the first defined variable for this expression, append</td><td> </td><td class="right">   o  If this is the first defined variable for this expression, append</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the first string for this expression type to the result string and</td><td> </td><td class="right">      the first string for this expression type to the result string and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      remember that it has been done.  Otherwise, append the sep string</td><td> </td><td class="right">      remember that it has been done.  Otherwise, append the sep string</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      to the result string.</td><td> </td><td class="right">      to the result string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0067" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                         </td><td> </td><td class="rblock">   o  If this variable's value is a string, <span class="insert">then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  If this variable's value is a string, <span class="delete">then:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  if named is true, append the varname to the result string using</td><td> </td><td class="right">      *  if named is true, append the varname to the result string using</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         the same encoding process as for literals, and</td><td> </td><td class="right">         the same encoding process as for literals, and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         +  if the value is empty, append the ifemp string to the result</td><td> </td><td class="right">         +  if the value is empty, append the ifemp string to the result</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">            string and skip to the next varspec;</td><td> </td><td class="right">            string and skip to the next varspec;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         +  otherwise, append "=" to the result string.</td><td> </td><td class="right">         +  otherwise, append "=" to the result string.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      *  if a prefix modifier is present and the prefix length is less</td><td> </td><td class="right">      *  if a prefix modifier is present and the prefix length is less</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         than the value string length in number of Unicode characters,</td><td> </td><td class="right">         than the value string length in number of Unicode characters,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         append that number of characters from the beginning of the</td><td> </td><td class="right">         append that number of characters from the beginning of the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0068" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         value string to the result string, after encoding any</td><td> </td><td class="rblock">         value string to the result string, after <span class="insert">pct-</span>encoding any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         characters that are not in the allow set, while taking care not</td><td> </td><td class="right">         characters that are not in the allow set, while taking care not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         to split multi-octet or pct-encoded triplet characters that</td><td> </td><td class="right">         to split multi-octet or pct-encoded triplet characters that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         represent a single Unicode codepoint;</td><td> </td><td class="right">         represent a single Unicode codepoint;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0069" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      *  otherwise, append the value to the result string after encoding</td><td> </td><td class="rblock">      *  otherwise, append the value to the result string after <span class="insert">pct-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         any characters that are not in the allow set.</td><td> </td><td class="rblock">         encoding any characters that are not in the allow set.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  <span class="delete">If this variable's value is a list, then:</span></td><td> </td><td class="rblock">   o  <span class="insert">else</span> if no explode modifier is given, <span class="insert">then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      *</span>  if no explode modifier is given, <span class="delete">then:</span></td><td> </td><td class="rblock"><span class="insert">      *</span>  if named is true, append the varname to the result string using</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">         +</span>  if named is true, append the varname to the result string</td><td> </td><td class="rblock">         the same encoding process as for literals, and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            using the same encoding process as for literals, and</td><td> </td><td class="rblock">         <span class="insert">+</span>  if the value is empty, append the ifemp string to the result</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            <span class="delete">-</span>  if the value is empty, append the ifemp string to the</td><td> </td><td class="rblock">            string and skip to the next varspec;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               result string and skip to the next varspec;</td><td> </td><td class="rblock">         <span class="insert">+</span>  otherwise, append "=" to the result string; and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            <span class="delete">-</span>  otherwise, append "=" to the result string; and</td><td> </td><td class="rblock">      <span class="insert">*  if this variable's value is a list,</span> append each defined list</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         <span class="delete">+</span>  append each defined list member to the result string, after</td><td> </td><td class="rblock">         member to the result string, after <span class="insert">pct-encoding</span> any characters</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            <span class="delete">encoding</span> any characters that are not in the allow set, with</td><td> </td><td class="rblock">         that are not in the allow set, with a comma (",") appended to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            a comma (",") appended to the result between each defined</td><td> </td><td class="rblock">         the result between each defined list <span class="insert">member;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            list <span class="delete">member.</span></td><td> </td><td class="rblock">      *  if <span class="insert">this variable's value</span> is <span class="insert">an associative array or any other</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">      *  <span class="delete">else</span> if <span class="delete">an explode modifier</span> is <span class="delete">given, then:</span></td><td> </td><td class="rblock"><span class="insert">         form of paired (name, value) structure,</span> append each <span class="insert">pair with a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">         +</span>  append each defined <span class="delete">list member</span> to the result <span class="delete">string,</span> after</td><td> </td><td class="rblock">         defined <span class="insert">value</span> to the result <span class="insert">string as "name,value",</span> after <span class="insert">pct-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            encoding any characters that are not in the allow set, with</td><td> </td><td class="rblock">         encoding any characters that are not in the allow set, with <span class="insert">a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            <span class="delete">the sep string</span> appended to the result between each defined</td><td> </td><td class="rblock"><span class="insert">         comma (",")</span> appended to the result between each defined <span class="insert">pair.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            <span class="delete">list member.</span></td><td> </td><td class="rblock">   o  <span class="insert">else</span> if <span class="insert">an</span> explode modifier is given, <span class="insert">then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   o  <span class="delete">If this variable's value is an associative array or any other form</span></td><td> </td><td class="rblock"><span class="insert">      *</span>  if named is true, <span class="insert">then for each defined list member or array</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      of paired (name, value) structure, then:</span></td><td> </td><td class="rblock"><span class="insert">         (name, value) pair with a defined value, do:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      *</span>  if <span class="delete">no</span> explode modifier is given, <span class="delete">then:</span></td><td> </td><td class="rblock"><span class="insert">         +  if this is not the first defined member/value, append the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">         +</span>  if named is true, append the varname to the result string</td><td> </td><td class="rblock"><span class="insert">            sep string to the result string;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            using the same encoding process as for <span class="delete">literals, and</span></td><td> </td><td class="rblock"><span class="insert">         +  if this is a list,</span> append the varname to the result string</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">            -</span>  if the <span class="delete">value</span> is empty, append the ifemp string to the</td><td> </td><td class="rblock">            using the same encoding process as for <span class="insert">literals;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               result <span class="delete">string and skip to the next varspec;</span></td><td> </td><td class="rblock"><span class="insert">         +</span>  if <span class="insert">this is a pair, append</span> the <span class="insert">name to the result string</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">            -</span>  otherwise, append "=" to the result <span class="delete">string; and</span></td><td> </td><td class="rblock"><span class="insert">            using the same encoding process as for literals;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         +  append each <span class="delete">pair with a</span> defined <span class="delete">value</span> to the result <span class="delete">string</span></td><td> </td><td class="rblock"><span class="insert">         +  if the member/value</span> is empty, append the ifemp string to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">            as "name,value",</span> after <span class="delete">encoding</span> any characters that are not</td><td> </td><td class="rblock">            result <span class="insert">string;</span> otherwise, append "=" <span class="insert">and the member/value</span> to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            in the allow set, with <span class="delete">a comma (",")</span> appended to the result</td><td> </td><td class="rblock">            the result <span class="insert">string, after pct-encoding any member/value</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            between each defined <span class="delete">pair.</span></td><td> </td><td class="rblock"><span class="insert">            characters that are not in the allow set.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">      *  else</span> if <span class="delete">an explode modifier</span> is <span class="delete">given, then:</span></td><td> </td><td class="rblock"><span class="insert">      *  else if named is false, then</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">         +</span>  append each pair with a defined value to the result string</td><td> </td><td class="rblock">         +  <span class="insert">if this is a list,</span> append each defined <span class="insert">list member</span> to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            as "name=value", after <span class="delete">encoding</span> any characters that are not</td><td> </td><td class="rblock">            result <span class="insert">string,</span> after <span class="insert">pct-encoding</span> any characters that are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            in the allow set, with the sep string appended to the result</td><td> </td><td class="rblock">            not in the allow set, with <span class="insert">the sep string</span> appended to the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">            between each defined pair.</td><td> </td><td class="rblock">            result between each defined <span class="insert">list member.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                         </td><td> </td><td class="rblock"><span class="insert">         +</span>  if <span class="insert">this</span> is <span class="insert">an array of (name, value) pairs,</span> append each pair</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            with a defined value to the result string as "name=value",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            after <span class="insert">pct-encoding</span> any characters that are not in the allow</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            set, with the sep string appended to the result between each</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            defined pair.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   When the variable-list for this expression is exhausted, go back to</td><td> </td><td class="right">   When the variable-list for this expression is exhausted, go back to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   scan the remainder of the template.</td><td> </td><td class="right">   scan the remainder of the template.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Authors' Addresses</td><td> </td><td class="right">Authors' Addresses</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Joe Gregorio</td><td> </td><td class="right">   Joe Gregorio</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Google</td><td> </td><td class="right">   Google</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: joe@bitworking.org</td><td> </td><td class="right">   Email: joe@bitworking.org</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI:   http://bitworking.org/</td><td> </td><td class="right">   URI:   http://bitworking.org/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Roy T. Fielding</td><td> </td><td class="right">   Roy T. Fielding</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Adobe Systems Incorporated</td><td> </td><td class="right">   Adobe Systems Incorporated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: fielding@gbiv.com</td><td> </td><td class="right">   Email: fielding@gbiv.com</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI:   http://roy.gbiv.com/</td><td> </td><td class="right">   URI:   http://roy.gbiv.com/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Marc Hadley</td><td> </td><td class="right">   Marc Hadley</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The MITRE Corporation</td><td> </td><td class="right">   The MITRE Corporation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0070" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Email: m<span class="delete">hadley@mitre</span>.org</td><td> </td><td class="rblock">   Email: m<span class="insert">arc@hadleynet</span>.org</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI:   http://mitre.org/</td><td> </td><td class="right">   URI:   http://mitre.org/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Mark Nottingham</td><td> </td><td class="right">   Mark Nottingham</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Rackspace</td><td> </td><td class="right">   Rackspace</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: mnot@mnot.net</td><td> </td><td class="right">   Email: mnot@mnot.net</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI:   http://www.mnot.net/</td><td> </td><td class="right">   URI:   http://www.mnot.net/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   David Orchard</td><td> </td><td class="right">   David Orchard</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Salesforce.com</td><td> </td><td class="right">   Salesforce.com</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0071" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Email: orchard@pacificspirit.com</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   URI:   http://www.pacificspirit.com/</td><td> </td><td class="right">   URI:   http://www.pacificspirit.com/</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 71 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>205 lines changed or deleted</i></th><th><i> </i></th><th><i>342 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.34. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
